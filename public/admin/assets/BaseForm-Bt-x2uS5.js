import{c as pt,e as ze,f as ht,b as Hr,d as dr,u as zr,p as gt,P as yt}from"./index-DwWsiyHK.js";import{b4 as bt,aD as Pr,f as fe,ay as wt,aC as ae,aJ as vr,r as d,H as Ve,az as be,aM as de,aN as K,al as c,aP as we,an as Fe,j as C,ao as ve,aK as Cr,g as ye,am as W,t as Pt,B as ir,ap as qe,aA as Ge,aL as Ct,aB as xt}from"./index-BTXTJVKt.js";import{T as xr}from"./index-DWyRM-jO.js";import{R as qr}from"./CopyOutlined-Bqo58qRo.js";import{R as Gr}from"./DeleteOutlined-sMe1csST.js";import{C as Rt,R as _t}from"./row-DJNm5-9Y.js";import{R as jt}from"./PlusOutlined-DhDAnJdR.js";import{F as Se}from"./index-CsweGtVO.js";function tr(e,r){var t=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=bt(e))||r){t&&(e=t);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:o}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var a,s=!0,i=!1;return{s:function(){t=t.call(e)},n:function(){var u=t.next();return s=u.done,u},e:function(u){i=!0,a=u},f:function(){try{s||t.return==null||t.return()}finally{if(i)throw a}}}}var St=function(r){var t={};if(Object.keys(r||{}).forEach(function(n){r[n]!==void 0&&(t[n]=r[n])}),!(Object.keys(t).length<1))return t},Ft=function(){var r;return typeof process>"u"?Pr:((r=process)===null||r===void 0||(r=r.env)===null||r===void 0?void 0:r.ANTD_VERSION)||Pr},qo=function(r,t){var n=pt(Ft(),"4.23.0")>-1?{open:r,onOpenChange:t}:{visible:r,onVisibleChange:t};return St(n)},Wr=fe.createContext({}),Ue={exports:{}},At=Ue.exports,Rr;function Tt(){return Rr||(Rr=1,function(e,r){(function(t,n){e.exports=n()})(At,function(){var t="month",n="quarter";return function(o,a){var s=a.prototype;s.quarter=function(u){return this.$utils().u(u)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(u-1))};var i=s.add;s.add=function(u,f){return u=Number(u),this.$utils().p(f)===n?this.add(3*u,t):i.bind(this)(u,f)};var l=s.startOf;s.startOf=function(u,f){var m=this.$utils(),v=!!m.u(f)||f;if(m.p(u)===n){var p=this.quarter()-1;return v?this.month(3*p).startOf(t).startOf("day"):this.month(3*p+2).endOf(t).endOf("day")}return l.bind(this)(u,f)}}})}(Ue)),Ue.exports}var Ot=Tt();const $t=wt(Ot);var We=function(r){return r==null};ze.extend($t);var It={time:"HH:mm:ss",timeRange:"HH:mm:ss",date:"YYYY-MM-DD",dateWeek:"YYYY-wo",dateMonth:"YYYY-MM",dateQuarter:"YYYY-[Q]Q",dateYear:"YYYY",dateRange:"YYYY-MM-DD",dateTime:"YYYY-MM-DD HH:mm:ss",dateTimeRange:"YYYY-MM-DD HH:mm:ss"};function _r(e){return Object.prototype.toString.call(e)==="[object Object]"}function Et(e){if(_r(e)===!1)return!1;var r=e.constructor;if(r===void 0)return!0;var t=r.prototype;return!(_r(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}var ur=function(r){return!!(r!=null&&r._isAMomentObject)},jr=function(r,t,n){if(!t)return r;if(ze.isDayjs(r)||ur(r)){if(t==="number")return r.valueOf();if(t==="string")return r.format(It[n]||"YYYY-MM-DD HH:mm:ss");if(typeof t=="string"&&t!=="string")return r.format(t);if(typeof t=="function")return t(r,n)}return r},Mt=function e(r,t,n,o,a){var s={};return typeof window>"u"||ae(r)!=="object"||We(r)||r instanceof Blob||Array.isArray(r)?r:(Object.keys(r).forEach(function(i){var l=a?[a,i].flat(1):[i],u=vr(n,l)||"text",f="text",m;typeof u=="string"?f=u:(f=u.valueType,m=u.dateFormat);var v=r[i];if(!(We(v)&&o)){if(Et(v)&&!Array.isArray(v)&&!ze.isDayjs(v)&&!ur(v)){s[i]=e(v,t,n,o,l);return}if(Array.isArray(v)){s[i]=v.map(function(p,A){return ze.isDayjs(p)||ur(p)?jr(p,m||t,f):e(p,t,n,o,[i,"".concat(A)].flat(1))});return}s[i]=jr(v,m||t,f)}}),s)};function Kr(e){if(typeof e=="function"){for(var r=arguments.length,t=new Array(r>1?r-1:0),n=1;n<r;n++)t[n-1]=arguments[n];return e.apply(void 0,t)}return e}var Be=function(r){var t=d.useRef(null);return t.current=r,d.useCallback(function(){for(var n,o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(n=t.current)===null||n===void 0?void 0:n.call.apply(n,[t].concat(Ve(a)))},[])};function Ye(e,r,t,n){if(e===r)return!0;if(e&&r&&ae(e)==="object"&&ae(r)==="object"){if(e.constructor!==r.constructor)return!1;var o,a,s;if(Array.isArray(e)){if(o=e.length,o!=r.length)return!1;for(a=o;a--!==0;)if(!Ye(e[a],r[a],t,n))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;var i=tr(e.entries()),l;try{for(i.s();!(l=i.n()).done;)if(a=l.value,!r.has(a[0]))return!1}catch(A){i.e(A)}finally{i.f()}var u=tr(e.entries()),f;try{for(u.s();!(f=u.n()).done;)if(a=f.value,!Ye(a[1],r.get(a[0]),t,n))return!1}catch(A){u.e(A)}finally{u.f()}return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;var m=tr(e.entries()),v;try{for(m.s();!(v=m.n()).done;)if(a=v.value,!r.has(a[0]))return!1}catch(A){m.e(A)}finally{m.f()}return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(o=e.length,o!=r.length)return!1;for(a=o;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf&&e.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString&&e.toString)return e.toString()===r.toString();if(s=Object.keys(e),o=s.length,o!==Object.keys(r).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=o;a--!==0;){var p=s[a];if(!(t!=null&&t.includes(p))&&!(p==="_owner"&&e.$$typeof)&&!Ye(e[p],r[p],t,n))return!1}return!0}return e!==e&&r!==r}var nr=0;function Nt(e){var r=d.useRef(null),t=d.useState(function(){return e.proFieldKey?e.proFieldKey.toString():(nr+=1,nr.toString())}),n=be(t,1),o=n[0],a=d.useRef(o),s=function(){var f=de(K().mark(function m(){var v,p,A,x;return K().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return(v=r.current)===null||v===void 0||v.abort(),A=new AbortController,r.current=A,_.next=5,Promise.race([(p=e.request)===null||p===void 0?void 0:p.call(e,e.params,e),new Promise(function(B,N){var g;(g=r.current)===null||g===void 0||(g=g.signal)===null||g===void 0||g.addEventListener("abort",function(){N(new Error("aborted"))})})]);case 5:return x=_.sent,_.abrupt("return",x);case 7:case"end":return _.stop()}},m)}));return function(){return f.apply(this,arguments)}}();d.useEffect(function(){return function(){nr+=1}},[]);var i=ht([a.current,e.params],s,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),l=i.data,u=i.error;return[l||u]}var Vt=function(r){var t=d.useRef();return d.useEffect(function(){t.current=r}),t.current},Lt=function(){for(var r={},t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];for(var a=n.length,s,i=0;i<a;i+=1)for(s in n[i])n[i].hasOwnProperty(s)&&(ae(r[s])==="object"&&ae(n[i][s])==="object"&&r[s]!==void 0&&r[s]!==null&&!Array.isArray(r[s])&&!Array.isArray(n[i][s])?r[s]=c(c({},r[s]),n[i][s]):r[s]=n[i][s]);return r},Sr=0,Fr=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:21;if(typeof window>"u"||!window.crypto)return(Sr+=1).toFixed(0);for(var t="",n=crypto.getRandomValues(new Uint8Array(r));r--;){var o=63&n[r];t+=o<36?o.toString(36):o<62?(o-26).toString(36).toUpperCase():o<63?"_":"-"}return t},Qr=function(){return typeof window>"u"?Fr():window.crypto&&window.crypto.randomUUID&&typeof crypto.randomUUID=="function"?crypto.randomUUID():Fr()};function Dt(){this.__data__=[],this.size=0}function Xe(e,r){return e===r||e!==e&&r!==r}function Ze(e,r){for(var t=e.length;t--;)if(Xe(e[t][0],r))return t;return-1}var Ut=Array.prototype,Bt=Ut.splice;function Yt(e){var r=this.__data__,t=Ze(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():Bt.call(r,t,1),--this.size,!0}function Ht(e){var r=this.__data__,t=Ze(r,e);return t<0?void 0:r[t][1]}function zt(e){return Ze(this.__data__,e)>-1}function qt(e,r){var t=this.__data__,n=Ze(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}function me(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}me.prototype.clear=Dt;me.prototype.delete=Yt;me.prototype.get=Ht;me.prototype.has=zt;me.prototype.set=qt;function Gt(){this.__data__=new me,this.size=0}function Wt(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}function Kt(e){return this.__data__.get(e)}function Qt(e){return this.__data__.has(e)}var Jr=typeof global=="object"&&global&&global.Object===Object&&global,Jt=typeof self=="object"&&self&&self.Object===Object&&self,Ae=Jr||Jt||Function("return this")(),Ke=Ae.Symbol,Xr=Object.prototype,Xt=Xr.hasOwnProperty,Zt=Xr.toString,Ee=Ke?Ke.toStringTag:void 0;function kt(e){var r=Xt.call(e,Ee),t=e[Ee];try{e[Ee]=void 0;var n=!0}catch{}var o=Zt.call(e);return n&&(r?e[Ee]=t:delete e[Ee]),o}var en=Object.prototype,rn=en.toString;function tn(e){return rn.call(e)}var nn="[object Null]",an="[object Undefined]",Ar=Ke?Ke.toStringTag:void 0;function ke(e){return e==null?e===void 0?an:nn:Ar&&Ar in Object(e)?kt(e):tn(e)}function Ce(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var on="[object AsyncFunction]",un="[object Function]",sn="[object GeneratorFunction]",ln="[object Proxy]";function mr(e){if(!Ce(e))return!1;var r=ke(e);return r==un||r==sn||r==on||r==ln}var ar=Ae["__core-js_shared__"],Tr=function(){var e=/[^.]+$/.exec(ar&&ar.keys&&ar.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fn(e){return!!Tr&&Tr in e}var cn=Function.prototype,dn=cn.toString;function vn(e){if(e!=null){try{return dn.call(e)}catch{}try{return e+""}catch{}}return""}var mn=/[\\^$.*+?()[\]{}|]/g,pn=/^\[object .+?Constructor\]$/,hn=Function.prototype,gn=Object.prototype,yn=hn.toString,bn=gn.hasOwnProperty,wn=RegExp("^"+yn.call(bn).replace(mn,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Pn(e){if(!Ce(e)||fn(e))return!1;var r=mr(e)?wn:pn;return r.test(vn(e))}function Cn(e,r){return e==null?void 0:e[r]}function pr(e,r){var t=Cn(e,r);return Pn(t)?t:void 0}var Zr=pr(Ae,"Map"),Le=pr(Object,"create");function xn(){this.__data__=Le?Le(null):{},this.size=0}function Rn(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var _n="__lodash_hash_undefined__",jn=Object.prototype,Sn=jn.hasOwnProperty;function Fn(e){var r=this.__data__;if(Le){var t=r[e];return t===_n?void 0:t}return Sn.call(r,e)?r[e]:void 0}var An=Object.prototype,Tn=An.hasOwnProperty;function On(e){var r=this.__data__;return Le?r[e]!==void 0:Tn.call(r,e)}var $n="__lodash_hash_undefined__";function In(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Le&&r===void 0?$n:r,this}function Pe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Pe.prototype.clear=xn;Pe.prototype.delete=Rn;Pe.prototype.get=Fn;Pe.prototype.has=On;Pe.prototype.set=In;function En(){this.size=0,this.__data__={hash:new Pe,map:new(Zr||me),string:new Pe}}function Mn(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}function er(e,r){var t=e.__data__;return Mn(r)?t[typeof r=="string"?"string":"hash"]:t.map}function Nn(e){var r=er(this,e).delete(e);return this.size-=r?1:0,r}function Vn(e){return er(this,e).get(e)}function Ln(e){return er(this,e).has(e)}function Dn(e,r){var t=er(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}function Te(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Te.prototype.clear=En;Te.prototype.delete=Nn;Te.prototype.get=Vn;Te.prototype.has=Ln;Te.prototype.set=Dn;var Un=200;function Bn(e,r){var t=this.__data__;if(t instanceof me){var n=t.__data__;if(!Zr||n.length<Un-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Te(n)}return t.set(e,r),this.size=t.size,this}function Oe(e){var r=this.__data__=new me(e);this.size=r.size}Oe.prototype.clear=Gt;Oe.prototype.delete=Wt;Oe.prototype.get=Kt;Oe.prototype.has=Qt;Oe.prototype.set=Bn;var Qe=function(){try{var e=pr(Object,"defineProperty");return e({},"",{}),e}catch{}}();function hr(e,r,t){r=="__proto__"&&Qe?Qe(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}function sr(e,r,t){(t!==void 0&&!Xe(e[r],t)||t===void 0&&!(r in e))&&hr(e,r,t)}function Yn(e){return function(r,t,n){for(var o=-1,a=Object(r),s=n(r),i=s.length;i--;){var l=s[++o];if(t(a[l],l,a)===!1)break}return r}}var Hn=Yn(),kr=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Or=kr&&typeof module=="object"&&module&&!module.nodeType&&module,zn=Or&&Or.exports===kr,$r=zn?Ae.Buffer:void 0;$r&&$r.allocUnsafe;function qn(e,r){return e.slice()}var Ir=Ae.Uint8Array;function Gn(e){var r=new e.constructor(e.byteLength);return new Ir(r).set(new Ir(e)),r}function Wn(e,r){var t=Gn(e.buffer);return new e.constructor(t,e.byteOffset,e.length)}function Kn(e,r){var t=-1,n=e.length;for(r||(r=Array(n));++t<n;)r[t]=e[t];return r}var Er=Object.create,Qn=function(){function e(){}return function(r){if(!Ce(r))return{};if(Er)return Er(r);e.prototype=r;var t=new e;return e.prototype=void 0,t}}();function Jn(e,r){return function(t){return e(r(t))}}var et=Jn(Object.getPrototypeOf,Object),Xn=Object.prototype;function rt(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||Xn;return e===t}function Zn(e){return typeof e.constructor=="function"&&!rt(e)?Qn(et(e)):{}}function De(e){return e!=null&&typeof e=="object"}var kn="[object Arguments]";function Mr(e){return De(e)&&ke(e)==kn}var tt=Object.prototype,ea=tt.hasOwnProperty,ra=tt.propertyIsEnumerable,lr=Mr(function(){return arguments}())?Mr:function(e){return De(e)&&ea.call(e,"callee")&&!ra.call(e,"callee")},fr=Array.isArray,ta=9007199254740991;function nt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=ta}function gr(e){return e!=null&&nt(e.length)&&!mr(e)}function na(e){return De(e)&&gr(e)}function aa(){return!1}var at=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Nr=at&&typeof module=="object"&&module&&!module.nodeType&&module,oa=Nr&&Nr.exports===at,Vr=oa?Ae.Buffer:void 0,ia=Vr?Vr.isBuffer:void 0,ot=ia||aa,ua="[object Object]",sa=Function.prototype,la=Object.prototype,it=sa.toString,fa=la.hasOwnProperty,ca=it.call(Object);function da(e){if(!De(e)||ke(e)!=ua)return!1;var r=et(e);if(r===null)return!0;var t=fa.call(r,"constructor")&&r.constructor;return typeof t=="function"&&t instanceof t&&it.call(t)==ca}var va="[object Arguments]",ma="[object Array]",pa="[object Boolean]",ha="[object Date]",ga="[object Error]",ya="[object Function]",ba="[object Map]",wa="[object Number]",Pa="[object Object]",Ca="[object RegExp]",xa="[object Set]",Ra="[object String]",_a="[object WeakMap]",ja="[object ArrayBuffer]",Sa="[object DataView]",Fa="[object Float32Array]",Aa="[object Float64Array]",Ta="[object Int8Array]",Oa="[object Int16Array]",$a="[object Int32Array]",Ia="[object Uint8Array]",Ea="[object Uint8ClampedArray]",Ma="[object Uint16Array]",Na="[object Uint32Array]",U={};U[Fa]=U[Aa]=U[Ta]=U[Oa]=U[$a]=U[Ia]=U[Ea]=U[Ma]=U[Na]=!0;U[va]=U[ma]=U[ja]=U[pa]=U[Sa]=U[ha]=U[ga]=U[ya]=U[ba]=U[wa]=U[Pa]=U[Ca]=U[xa]=U[Ra]=U[_a]=!1;function Va(e){return De(e)&&nt(e.length)&&!!U[ke(e)]}function La(e){return function(r){return e(r)}}var ut=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Me=ut&&typeof module=="object"&&module&&!module.nodeType&&module,Da=Me&&Me.exports===ut,or=Da&&Jr.process,Lr=function(){try{var e=Me&&Me.require&&Me.require("util").types;return e||or&&or.binding&&or.binding("util")}catch{}}(),Dr=Lr&&Lr.isTypedArray,st=Dr?La(Dr):Va;function cr(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}var Ua=Object.prototype,Ba=Ua.hasOwnProperty;function Ya(e,r,t){var n=e[r];(!(Ba.call(e,r)&&Xe(n,t))||t===void 0&&!(r in e))&&hr(e,r,t)}function Ha(e,r,t,n){var o=!t;t||(t={});for(var a=-1,s=r.length;++a<s;){var i=r[a],l=void 0;l===void 0&&(l=e[i]),o?hr(t,i,l):Ya(t,i,l)}return t}function za(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var qa=9007199254740991,Ga=/^(?:0|[1-9]\d*)$/;function lt(e,r){var t=typeof e;return r=r??qa,!!r&&(t=="number"||t!="symbol"&&Ga.test(e))&&e>-1&&e%1==0&&e<r}var Wa=Object.prototype,Ka=Wa.hasOwnProperty;function Qa(e,r){var t=fr(e),n=!t&&lr(e),o=!t&&!n&&ot(e),a=!t&&!n&&!o&&st(e),s=t||n||o||a,i=s?za(e.length,String):[],l=i.length;for(var u in e)(r||Ka.call(e,u))&&!(s&&(u=="length"||o&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||lt(u,l)))&&i.push(u);return i}function Ja(e){var r=[];if(e!=null)for(var t in Object(e))r.push(t);return r}var Xa=Object.prototype,Za=Xa.hasOwnProperty;function ka(e){if(!Ce(e))return Ja(e);var r=rt(e),t=[];for(var n in e)n=="constructor"&&(r||!Za.call(e,n))||t.push(n);return t}function ft(e){return gr(e)?Qa(e,!0):ka(e)}function eo(e){return Ha(e,ft(e))}function ro(e,r,t,n,o,a,s){var i=cr(e,t),l=cr(r,t),u=s.get(l);if(u){sr(e,t,u);return}var f=a?a(i,l,t+"",e,r,s):void 0,m=f===void 0;if(m){var v=fr(l),p=!v&&ot(l),A=!v&&!p&&st(l);f=l,v||p||A?fr(i)?f=i:na(i)?f=Kn(i):p?(m=!1,f=qn(l)):A?(m=!1,f=Wn(l)):f=[]:da(l)||lr(l)?(f=i,lr(i)?f=eo(i):(!Ce(i)||mr(i))&&(f=Zn(l))):m=!1}m&&(s.set(l,f),o(f,l,n,a,s),s.delete(l)),sr(e,t,f)}function ct(e,r,t,n,o){e!==r&&Hn(r,function(a,s){if(o||(o=new Oe),Ce(a))ro(e,r,s,t,ct,n,o);else{var i=n?n(cr(e,s),a,s+"",e,r,o):void 0;i===void 0&&(i=a),sr(e,s,i)}},ft)}function dt(e){return e}function to(e,r,t){switch(t.length){case 0:return e.call(r);case 1:return e.call(r,t[0]);case 2:return e.call(r,t[0],t[1]);case 3:return e.call(r,t[0],t[1],t[2])}return e.apply(r,t)}var Ur=Math.max;function no(e,r,t){return r=Ur(r===void 0?e.length-1:r,0),function(){for(var n=arguments,o=-1,a=Ur(n.length-r,0),s=Array(a);++o<a;)s[o]=n[r+o];o=-1;for(var i=Array(r+1);++o<r;)i[o]=n[o];return i[r]=t(s),to(e,this,i)}}function ao(e){return function(){return e}}var oo=Qe?function(e,r){return Qe(e,"toString",{configurable:!0,enumerable:!1,value:ao(r),writable:!0})}:dt,io=800,uo=16,so=Date.now;function lo(e){var r=0,t=0;return function(){var n=so(),o=uo-(n-t);if(t=n,o>0){if(++r>=io)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}var fo=lo(oo);function co(e,r){return fo(no(e,r,dt),e+"")}function vo(e,r,t){if(!Ce(t))return!1;var n=typeof r;return(n=="number"?gr(t)&&lt(r,t.length):n=="string"&&r in t)?Xe(t[r],e):!1}function mo(e){return co(function(r,t){var n=-1,o=t.length,a=o>1?t[o-1]:void 0,s=o>2?t[2]:void 0;for(a=e.length>3&&typeof a=="function"?(o--,a):void 0,s&&vo(t[0],t[1],s)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var i=t[n];i&&e(r,i,n,a)}return r})}var po=mo(function(e,r,t){ct(e,r,t)});function ho(e){return ae(e)!=="object"?!1:e===null?!0:!(fe.isValidElement(e)||e.constructor===RegExp||e instanceof Map||e instanceof Set||e instanceof HTMLElement||e instanceof Blob||e instanceof File||Array.isArray(e))}var go=function(r,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Object.keys(t).reduce(function(i,l){var u=t[l];return We(u)||(i[l]=u),i},{});if(Object.keys(o).length<1||typeof window>"u"||ae(r)!=="object"||We(r)||r instanceof Blob)return r;var a=Array.isArray(r)?[]:{},s=function i(l,u){var f=Array.isArray(l),m=f?[]:{};return l==null||l===void 0?m:(Object.keys(l).forEach(function(v){var p=function N(g,L){return Array.isArray(g)&&g.forEach(function(j,I){if(j){var Y=L==null?void 0:L[I];typeof j=="function"&&(L[I]=j(L,v,l)),ae(j)==="object"&&!Array.isArray(j)&&Object.keys(j).forEach(function(H){var V=Y==null?void 0:Y[H];if(typeof j[H]=="function"&&V){var Q=j[H](Y[H],v,l);Y[H]=ae(Q)==="object"?Q[H]:Q}else ae(j[H])==="object"&&Array.isArray(j[H])&&V&&N(j[H],V)}),ae(j)==="object"&&Array.isArray(j)&&Y&&N(j,Y)}}),v},A=u?[u,v].flat(1):[v].flat(1),x=l[v],y=vr(o,A),_=function(){var g,L,j=!1;if(typeof y=="function"){L=y==null?void 0:y(x,v,l);var I=ae(L);I!=="object"&&I!=="undefined"?(g=v,j=!0):g=L}else g=p(y,x);if(Array.isArray(g)){m=we(m,g,x);return}ae(g)==="object"&&!Array.isArray(a)?a=po(a,g):ae(g)==="object"&&Array.isArray(a)?m=c(c({},m),g):(g!==null||g!==void 0)&&(m=we(m,[g],j?L:x))};if(y&&typeof y=="function"&&_(),!(typeof window>"u")){if(ho(x)){var B=i(x,A);if(Object.keys(B).length<1)return;m=we(m,[v],B);return}_()}}),n?m:l)};return a=Array.isArray(r)&&Array.isArray(a)?Ve(s(r)):Lt({},s(r),a),a},Ne=function(){return Ne=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ne.apply(this,arguments)};function yo(e){var r,t=(typeof window<"u"?window:{}).URL,n=new t((r=window==null?void 0:window.location)===null||r===void 0?void 0:r.href);return Object.keys(e).forEach(function(o){var a=e[o];a!=null?Array.isArray(a)?(n.searchParams.delete(o),a.forEach(function(s){n.searchParams.append(o,s)})):a instanceof Date?Number.isNaN(a.getTime())||n.searchParams.set(o,a.toISOString()):typeof a=="object"?n.searchParams.set(o,JSON.stringify(a)):n.searchParams.set(o,a):n.searchParams.delete(o)}),n}function bo(e,r){var t;e===void 0&&(e={}),r===void 0&&(r={disabled:!1});var n=d.useState(),o=n[1],a=typeof window<"u"&&((t=window==null?void 0:window.location)===null||t===void 0?void 0:t.search),s=d.useMemo(function(){return r.disabled?{}:new URLSearchParams(a||{})},[r.disabled,a]),i=d.useMemo(function(){if(r.disabled)return{};if(typeof window>"u"||!window.URL)return{};var f=[];s.forEach(function(v,p){f.push({key:p,value:v})}),f=f.reduce(function(v,p){return(v[p.key]=v[p.key]||[]).push(p),v},{}),f=Object.keys(f).map(function(v){var p=f[v];return p.length===1?[v,p[0].value]:[v,p.map(function(A){var x=A.value;return x})]});var m=Ne({},e);return f.forEach(function(v){var p=v[0],A=v[1];m[p]=Po(p,A,{},e)}),m},[r.disabled,e,s]);function l(f){if(!(typeof window>"u"||!window.URL)){var m=yo(f);window.location.search!==m.search&&window.history.replaceState({},"",m.toString()),s.toString()!==m.searchParams.toString()&&o({})}}d.useEffect(function(){r.disabled||typeof window>"u"||!window.URL||l(Ne(Ne({},e),i))},[r.disabled,i]);var u=function(f){l(f)};return d.useEffect(function(){if(r.disabled)return function(){};if(typeof window>"u"||!window.URL)return function(){};var f=function(){o({})};return window.addEventListener("popstate",f),function(){window.removeEventListener("popstate",f)}},[r.disabled]),[i,u]}var wo={true:!0,false:!1};function Po(e,r,t,n){if(!t)return r;var o=t[e],a=r===void 0?n[e]:r;return o===Number?Number(a):o===Boolean||r==="true"||r==="false"?wo[a]:Array.isArray(o)?o.find(function(s){return s==a})||n[e]:a}var vt=fe.createContext({}),Co=["children","Wrapper"],xo=["children","Wrapper"],mt=d.createContext({grid:!1,colProps:void 0,rowProps:void 0}),Ro=function(r){var t=r.grid,n=r.rowProps,o=r.colProps;return{grid:!!t,RowWrapper:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.children,l=s.Wrapper,u=Fe(s,Co);return t?C.jsx(_t,c(c(c({gutter:8},n),u),{},{children:i})):l?C.jsx(l,{children:i}):i},ColWrapper:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=s.children,l=s.Wrapper,u=Fe(s,xo),f=d.useMemo(function(){var m=c(c({},o),u);return typeof m.span>"u"&&typeof m.xs>"u"&&(m.xs=24),m},[u]);return t?C.jsx(Rt,c(c({},f),{},{children:i})):l?C.jsx(l,{children:i}):i}}},yr=function(r){var t=d.useMemo(function(){return ae(r)==="object"?r:{grid:r}},[r]),n=d.useContext(mt),o=n.grid,a=n.colProps;return d.useMemo(function(){return Ro({grid:!!(o||t.grid),rowProps:t==null?void 0:t.rowProps,colProps:(t==null?void 0:t.colProps)||a,Wrapper:t==null?void 0:t.Wrapper})},[t==null?void 0:t.Wrapper,t.grid,o,JSON.stringify([a,t==null?void 0:t.colProps,t==null?void 0:t.rowProps])])},br=fe.createContext({mode:"edit"}),_o=["creatorButtonProps","deleteIconProps","copyIconProps","itemContainerRender","itemRender","alwaysShowItemLabel","prefixCls","creatorRecord","action","actionGuard","children","actionRender","fields","meta","field","index","formInstance","originName","containerClassName","containerStyle","min","max","count"],jo=function(r){return Array.isArray(r)?r:typeof r=="function"?[r]:Pt(r)},So=function(r){var t,n;r.creatorButtonProps;var o=r.deleteIconProps,a=r.copyIconProps,s=r.itemContainerRender,i=r.itemRender,l=r.alwaysShowItemLabel,u=r.prefixCls;r.creatorRecord;var f=r.action;r.actionGuard;var m=r.children,v=r.actionRender,p=r.fields,A=r.meta,x=r.field,y=r.index,_=r.formInstance,B=r.originName,N=r.containerClassName,g=r.containerStyle,L=r.min,j=r.max,I=r.count,Y=Fe(r,_o),H=d.useContext(Hr),V=H.hashId,Q=((t=ve.useConfig)===null||t===void 0?void 0:t.call(ve))||{componentSize:"middle"},q=Q.componentSize,X=d.useContext(Je),M=d.useRef(!1),D=d.useContext(br),$=D.mode,O=d.useState(!1),F=be(O,2),S=F[0],h=F[1],w=d.useState(!1),T=be(w,2),b=T[0],P=T[1];d.useEffect(function(){return function(){M.current=!0}},[]);var re=function(){return _.getFieldValue([X.listName,B,y==null?void 0:y.toString()].flat(1).filter(function(Z){return Z!=null}))},oe={getCurrentRowData:re,setCurrentRowData:function(Z){var ne,G=(_==null||(ne=_.getFieldsValue)===null||ne===void 0?void 0:ne.call(_))||{},E=[X.listName,B,y==null?void 0:y.toString()].flat(1).filter(function(J){return J!=null}),z=we(G,E,c(c({},re()),Z||{}));return _.setFieldsValue(z)}},k=jo(m).map(function(R){return typeof R=="function"?R==null?void 0:R(x,y,c(c({},f),oe),I):R}).map(function(R,Z){if(fe.isValidElement(R)){var ne;return fe.cloneElement(R,c({key:R.key||(R==null||(ne=R.props)===null||ne===void 0?void 0:ne.name)||Z},(R==null?void 0:R.props)||{}))}return R}),ee=d.useMemo(function(){if($==="read"||a===!1||j===I)return null;var R=a,Z=R.Icon,ne=Z===void 0?qr:Z,G=R.tooltipText;return C.jsx(xr,{title:G,children:b?C.jsx(Cr,{}):C.jsx(ne,{className:ye("".concat(u,"-action-icon action-copy"),V),onClick:de(K().mark(function E(){var z;return K().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return P(!0),z=_==null?void 0:_.getFieldValue([X.listName,B,x.name].filter(function(ge){return ge!==void 0}).flat(1)),ce.next=4,f.add(z);case 4:P(!1);case 5:case"end":return ce.stop()}},E)}))})},"copy")},[a,j,I,b,u,V,_,X.listName,x.name,B,f]),xe=d.useMemo(function(){if($==="read"||o===!1||L===I)return null;var R=o,Z=R.Icon,ne=Z===void 0?Gr:Z,G=R.tooltipText;return C.jsx(xr,{title:G,children:S?C.jsx(Cr,{}):C.jsx(ne,{className:ye("".concat(u,"-action-icon action-remove"),V),onClick:de(K().mark(function E(){return K().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return h(!0),J.next=3,f.remove(x.name);case 3:M.current||h(!1);case 4:case"end":return J.stop()}},E)}))})},"delete")},[o,L,I,S,u,V,f,x.name]),Re=d.useMemo(function(){return[ee,xe].filter(function(R){return R!=null})},[ee,xe]),te=(v==null?void 0:v(x,f,Re,I))||Re,ie=te.length>0&&$!=="read"?C.jsx("div",{className:ye("".concat(u,"-action"),W({},"".concat(u,"-action-small"),q==="small"),V),children:te}):null,pe={name:Y.name,field:x,index:y,record:_==null||(n=_.getFieldValue)===null||n===void 0?void 0:n.call(_,[X.listName,B,x.name].filter(function(R){return R!==void 0}).flat(1)),fields:p,operation:f,meta:A},$e=yr(),he=$e.grid,ue=(s==null?void 0:s(k,pe))||k,le=(i==null?void 0:i({listDom:C.jsx("div",{className:ye("".concat(u,"-container"),N,V),style:c({width:he?"100%":void 0},g),children:ue}),action:ie},pe))||C.jsxs("div",{className:ye("".concat(u,"-item"),V,W(W({},"".concat(u,"-item-default"),l===void 0),"".concat(u,"-item-show-label"),l)),style:{display:"flex",alignItems:"flex-end"},children:[C.jsx("div",{className:ye("".concat(u,"-container"),N,V),style:c({width:he?"100%":void 0},g),children:ue}),ie]});return C.jsx(Je.Provider,{value:c(c({},x),{},{listName:[X.listName,B,x.name].filter(function(R){return R!==void 0}).flat(1)}),children:le})},Fo=function(r){var t=dr(),n=r.creatorButtonProps,o=r.prefixCls,a=r.children,s=r.creatorRecord,i=r.action,l=r.fields,u=r.actionGuard,f=r.max,m=r.fieldExtraRender,v=r.meta,p=r.containerClassName,A=r.containerStyle,x=r.onAfterAdd,y=r.onAfterRemove,_=d.useContext(Hr),B=_.hashId,N=d.useRef(new Map),g=d.useState(!1),L=be(g,2),j=L[0],I=L[1],Y=d.useMemo(function(){return l.map(function(M){var D,$;if(!((D=N.current)!==null&&D!==void 0&&D.has(M.key.toString()))){var O;(O=N.current)===null||O===void 0||O.set(M.key.toString(),Qr())}var F=($=N.current)===null||$===void 0?void 0:$.get(M.key.toString());return c(c({},M),{},{uuid:F})})},[l]),H=d.useMemo(function(){var M=c({},i),D=Y.length;return u!=null&&u.beforeAddRow?M.add=de(K().mark(function $(){var O,F,S,h,w,T=arguments;return K().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for(O=T.length,F=new Array(O),S=0;S<O;S++)F[S]=T[S];return P.next=3,u.beforeAddRow.apply(u,F.concat([D]));case 3:if(h=P.sent,!h){P.next=8;break}return w=i.add.apply(i,F),x==null||x.apply(void 0,F.concat([D+1])),P.abrupt("return",w);case 8:return P.abrupt("return",!1);case 9:case"end":return P.stop()}},$)})):M.add=de(K().mark(function $(){var O,F,S,h,w=arguments;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for(O=w.length,F=new Array(O),S=0;S<O;S++)F[S]=w[S];return h=i.add.apply(i,F),x==null||x.apply(void 0,F.concat([D+1])),b.abrupt("return",h);case 4:case"end":return b.stop()}},$)})),u!=null&&u.beforeRemoveRow?M.remove=de(K().mark(function $(){var O,F,S,h,w,T=arguments;return K().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:for(O=T.length,F=new Array(O),S=0;S<O;S++)F[S]=T[S];return P.next=3,u.beforeRemoveRow.apply(u,F.concat([D]));case 3:if(h=P.sent,!h){P.next=8;break}return w=i.remove.apply(i,F),y==null||y.apply(void 0,F.concat([D-1])),P.abrupt("return",w);case 8:return P.abrupt("return",!1);case 9:case"end":return P.stop()}},$)})):M.remove=de(K().mark(function $(){var O,F,S,h,w=arguments;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:for(O=w.length,F=new Array(O),S=0;S<O;S++)F[S]=w[S];return h=i.remove.apply(i,F),y==null||y.apply(void 0,F.concat([D-1])),b.abrupt("return",h);case 4:case"end":return b.stop()}},$)})),M},[i,u==null?void 0:u.beforeAddRow,u==null?void 0:u.beforeRemoveRow,x,y,Y.length]),V=d.useMemo(function(){if(n===!1||Y.length===f)return null;var M=n||{},D=M.position,$=D===void 0?"bottom":D,O=M.creatorButtonText,F=O===void 0?t.getMessage("editableTable.action.add","添加一行数据"):O;return C.jsx(ir,c(c({className:"".concat(o,"-creator-button-").concat($," ").concat(B||"").trim(),type:"dashed",loading:j,block:!0,icon:C.jsx(jt,{})},qe(n||{},["position","creatorButtonText"])),{},{onClick:de(K().mark(function S(){var h,w;return K().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return I(!0),w=Y.length,$==="top"&&(w=0),b.next=5,H.add((h=Kr(s))!==null&&h!==void 0?h:{},w);case 5:I(!1);case 6:case"end":return b.stop()}},S)})),children:F}))},[n,Y.length,f,t,o,B,j,H,s]),Q=d.useContext(br),q=c({width:"max-content",maxWidth:"100%",minWidth:"100%"},A),X=d.useMemo(function(){return Y.map(function(M,D){return d.createElement(So,c(c({},r),{},{key:M.uuid,field:M,index:D,action:H,count:Y.length}),a)})},[a,r,Y,H]);return Q.mode==="read"||r.readonly===!0?C.jsx(C.Fragment,{children:X}):C.jsxs("div",{style:q,className:p,children:[n!==!1&&(n==null?void 0:n.position)==="top"&&V,X,m&&m(H,v),n!==!1&&(n==null?void 0:n.position)!=="top"&&V]})},Ao=function(r){return W(W({},"".concat(r.antCls,"-pro"),W({},"".concat(r.antCls,"-form:not(").concat(r.antCls,"-form-horizontal)"),W({},r.componentCls,W({},"&-item:not(".concat(r.componentCls,"-item-show-label)"),W({},"".concat(r.antCls,"-form-item-label"),{display:"none"}))))),r.componentCls,W(W({maxWidth:"100%","&-item":{"&&-show-label":W({},"".concat(r.antCls,"-form-item-label"),{display:"inline-block"}),"&&-default:first-child":{"div:first-of-type":W({},"".concat(r.antCls,"-form-item"),W({},"".concat(r.antCls,"-form-item-label"),{display:"inline-block"}))},"&&-default:not(:first-child)":{"div:first-of-type":W({},"".concat(r.antCls,"-form-item"),W({},"".concat(r.antCls,"-form-item-label"),{display:"none"}))}},"&-action":{display:"flex",height:r.controlHeight,marginBlockEnd:r.marginLG,lineHeight:r.controlHeight+"px","&-small":{height:r.controlHeightSM,lineHeight:r.controlHeightSM}},"&-action-icon":{marginInlineStart:8,cursor:"pointer",transition:"color 0.3s ease-in-out","&:hover":{color:r.colorPrimaryTextHover}}},"".concat(r.proComponentsCls,"-card ").concat(r.proComponentsCls,"-card-extra"),W({},r.componentCls,{"&-action":{marginBlockEnd:0}})),"&-creator-button-top",{marginBlockEnd:24}))};function To(e){return zr("ProFormList",function(r){var t=c(c({},r),{},{componentCls:".".concat(e)});return[Ao(t)]})}var Oo=["transform","actionRender","creatorButtonProps","label","alwaysShowItemLabel","tooltip","creatorRecord","itemRender","rules","itemContainerRender","fieldExtraRender","copyIconProps","children","deleteIconProps","actionRef","style","prefixCls","actionGuard","min","max","colProps","wrapperCol","rowProps","onAfterAdd","onAfterRemove","isValidateList","emptyListMessage","className","containerClassName","containerStyle","readonly"],Je=fe.createContext({});function Go(e){var r=d.useRef(),t=d.useContext(ve.ConfigContext),n=d.useContext(Je),o=t.getPrefixCls("pro-form-list"),a=dr(),s=fe.useContext(vt),i=s.setFieldValueType,l=e.transform,u=e.actionRender,f=e.creatorButtonProps,m=e.label,v=e.alwaysShowItemLabel,p=e.tooltip,A=e.creatorRecord,x=e.itemRender,y=e.rules,_=e.itemContainerRender,B=e.fieldExtraRender,N=e.copyIconProps,g=N===void 0?{Icon:qr,tooltipText:a.getMessage("copyThisLine","复制此项")}:N,L=e.children,j=e.deleteIconProps,I=j===void 0?{Icon:Gr,tooltipText:a.getMessage("deleteThisLine","删除此项")}:j,Y=e.actionRef,H=e.style,V=e.prefixCls,Q=e.actionGuard,q=e.min,X=e.max,M=e.colProps,D=e.wrapperCol,$=e.rowProps,O=e.onAfterAdd,F=e.onAfterRemove,S=e.isValidateList,h=S===void 0?!1:S,w=e.emptyListMessage,T=w===void 0?"列表不能为空":w,b=e.className,P=e.containerClassName,re=e.containerStyle,oe=e.readonly,k=Fe(e,Oo),ee=yr({colProps:M,rowProps:$}),xe=ee.ColWrapper,Re=ee.RowWrapper,te=d.useContext(Wr),ie=d.useMemo(function(){return n.name===void 0?[k.name].flat(1):[n.name,k.name].flat(1)},[n.name,k.name]);d.useImperativeHandle(Y,function(){return c(c({},r.current),{},{get:function(le){return te.formRef.current.getFieldValue([].concat(Ve(ie),[le]))},getList:function(){return te.formRef.current.getFieldValue(Ve(ie))}})},[ie,te.formRef]),d.useEffect(function(){Ge(!!te.formRef,"ProFormList 必须要放到 ProForm 中,否则会造成行为异常。"),Ge(!!te.formRef,"Proformlist must be placed in ProForm, otherwise it will cause abnormal behavior.")},[te.formRef]),d.useEffect(function(){!i||!e.name||i([e.name].flat(1).filter(function(ue){return ue!==void 0}),{valueType:"formList",transform:l})},[e.name,i,l]);var pe=To(o),$e=pe.wrapSSR,he=pe.hashId;return te.formRef?$e(C.jsx(xe,{children:C.jsx("div",{className:ye(o,he),style:H,children:C.jsx(Se.Item,c(c({label:m,prefixCls:V,tooltip:p,style:H,required:y==null?void 0:y.some(function(ue){return ue.required}),wrapperCol:D,className:b},k),{},{name:h?ie:void 0,rules:h?[{validator:function(le,R){return!R||R.length===0?Promise.reject(new Error(T)):Promise.resolve()},required:!0}]:void 0,children:C.jsx(Se.List,c(c({rules:y},k),{},{name:ie,children:function(le,R,Z){return r.current=R,C.jsxs(Re,{children:[C.jsx(Fo,{name:ie,readonly:!!oe,originName:k.name,copyIconProps:g,deleteIconProps:I,formInstance:te.formRef.current,prefixCls:o,meta:Z,fields:le,itemContainerRender:_,itemRender:x,fieldExtraRender:B,creatorButtonProps:f,creatorRecord:A,actionRender:u,action:R,actionGuard:Q,alwaysShowItemLabel:v,min:q,max:X,count:le.length,onAfterAdd:function(G,E,z){h&&te.formRef.current.validateFields([ie]),O==null||O(G,E,z)},onAfterRemove:function(G,E){h&&E===0&&te.formRef.current.validateFields([ie]),F==null||F(G,E)},containerClassName:P,containerStyle:re,children:L}),C.jsx(Se.ErrorList,{errors:Z.errors})]})}}))}))})})):null}var $o=function(r){var t=dr(),n=Se.useFormInstance();if(r.render===!1)return null;var o=r.onSubmit,a=r.render,s=r.onReset,i=r.searchConfig,l=i===void 0?{}:i,u=r.submitButtonProps,f=r.resetButtonProps,m=gt.useToken(),v=m.token,p=function(){n.submit(),o==null||o()},A=function(){n.resetFields(),s==null||s()},x=l.submitText,y=x===void 0?t.getMessage("tableForm.submit","提交"):x,_=l.resetText,B=_===void 0?t.getMessage("tableForm.reset","重置"):_,N=[];f!==!1&&N.push(d.createElement(ir,c(c({},qe(f??{},["preventDefault"])),{},{key:"rest",onClick:function(j){var I;f!=null&&f.preventDefault||A(),f==null||(I=f.onClick)===null||I===void 0||I.call(f,j)}}),B)),u!==!1&&N.push(d.createElement(ir,c(c({type:"primary"},qe(u||{},["preventDefault"])),{},{key:"submit",onClick:function(j){var I;u!=null&&u.preventDefault||p(),u==null||(I=u.onClick)===null||I===void 0||I.call(u,j)}}),y));var g=a?a(c(c({},r),{},{form:n,submit:p,reset:A}),N):N;return g?Array.isArray(g)?(g==null?void 0:g.length)<1?null:(g==null?void 0:g.length)===1?g[0]:C.jsx("div",{style:{display:"flex",gap:v.marginXS,alignItems:"center"},children:g}):g:null},Io=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","transformKey","formRef","onInit","form","loading","formComponentType","extraUrlParams","syncToUrl","onUrlSearchChange","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput","grid","rowProps","colProps"],Eo=["extraUrlParams","syncToUrl","isKeyPressSubmit","syncToUrlAsImportant","syncToInitialValues","children","contentRender","submitter","fieldProps","proFieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","onReset","grid","rowProps","colProps","omitNil","request","params","initialValues","formKey","readonly","onLoadingChange","loading"],He=function(r,t,n){return r===!0?t:Kr(r,t,n)},Br=function(r){return!r||Array.isArray(r)?r:[r]};function Mo(e){var r,t=e.children,n=e.contentRender,o=e.submitter;e.fieldProps,e.formItemProps,e.groupProps;var a=e.transformKey,s=e.formRef,i=e.onInit,l=e.form,u=e.loading;e.formComponentType;var f=e.extraUrlParams,m=f===void 0?{}:f,v=e.syncToUrl,p=e.onUrlSearchChange,A=e.onReset,x=e.omitNil,y=x===void 0?!0:x;e.isKeyPressSubmit;var _=e.autoFocusFirstInput,B=_===void 0?!0:_,N=e.grid,g=e.rowProps,L=e.colProps,j=Fe(e,Io),I=Se.useFormInstance(),Y=(ve===null||ve===void 0||(r=ve.useConfig)===null||r===void 0?void 0:r.call(ve))||{componentSize:"middle"},H=Y.componentSize,V=d.useRef(l||I),Q=yr({grid:N,rowProps:g}),q=Q.RowWrapper,X=Be(function(){return I}),M=d.useMemo(function(){return{getFieldsFormatValue:function(w){var T;return a((T=X())===null||T===void 0?void 0:T.getFieldsValue(w),y)},getFieldFormatValue:function(){var w,T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],b=Br(T);if(!b)throw new Error("nameList is require");var P=(w=X())===null||w===void 0?void 0:w.getFieldValue(b),re=b?we({},b,P):P,oe=Ve(b);return oe.shift(),vr(a(re,y,oe),b)},getFieldFormatValueObject:function(w){var T,b=Br(w),P=(T=X())===null||T===void 0?void 0:T.getFieldValue(b),re=b?we({},b,P):P;return a(re,y,b)},validateFieldsReturnFormatValue:function(){var h=de(K().mark(function T(b){var P,re,oe;return K().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:if(!(!Array.isArray(b)&&b)){ee.next=2;break}throw new Error("nameList must be array");case 2:return ee.next=4,(P=X())===null||P===void 0?void 0:P.validateFields(b);case 4:return re=ee.sent,oe=a(re,y),ee.abrupt("return",oe||{});case 7:case"end":return ee.stop()}},T)}));function w(T){return h.apply(this,arguments)}return w}()}},[y,a]),D=d.useMemo(function(){return fe.Children.toArray(t).map(function(h,w){return w===0&&fe.isValidElement(h)&&B?fe.cloneElement(h,c(c({},h.props),{},{autoFocus:B})):h})},[B,t]),$=d.useMemo(function(){return typeof o=="boolean"||!o?{}:o},[o]),O=d.useMemo(function(){if(o!==!1)return C.jsx($o,c(c({},$),{},{onReset:function(){var w,T,b=a((w=V.current)===null||w===void 0?void 0:w.getFieldsValue(),y);if($==null||(T=$.onReset)===null||T===void 0||T.call($,b),A==null||A(b),v){var P,re=Object.keys(a((P=V.current)===null||P===void 0?void 0:P.getFieldsValue(),!1)).reduce(function(oe,k){return c(c({},oe),{},W({},k,b[k]||void 0))},m);p(He(v,re||{},"set"))}},submitButtonProps:c({loading:u},$.submitButtonProps)}),"submitter")},[o,$,u,a,y,A,v,m,p]),F=d.useMemo(function(){var h=N?C.jsx(q,{children:D}):D;return n?n(h,O,V.current):h},[N,q,D,n,O]),S=Vt(e.initialValues);return d.useEffect(function(){if(!(v||!e.initialValues||!S||j.request)){var h=Ye(e.initialValues,S);Ge(h,"initialValues 只在 form 初始化时生效，如果你需要异步加载推荐使用 request，或者 initialValues ? <Form/> : null "),Ge(h,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[e.initialValues]),d.useImperativeHandle(s,function(){return c(c({},V.current),M)},[M,V.current]),d.useEffect(function(){var h,w,T=a((h=V.current)===null||h===void 0||(w=h.getFieldsValue)===null||w===void 0?void 0:w.call(h,!0),y);i==null||i(T,c(c({},V.current),M))},[]),C.jsx(Wr.Provider,{value:c(c({},M),{},{formRef:V}),children:C.jsx(ve,{componentSize:j.size||H,children:C.jsxs(mt.Provider,{value:{grid:N,colProps:L},children:[j.component!==!1&&C.jsx("input",{type:"text",style:{display:"none"}}),F]})})})}var Yr=0;function Wo(e){var r=e.extraUrlParams,t=r===void 0?{}:r,n=e.syncToUrl,o=e.isKeyPressSubmit,a=e.syncToUrlAsImportant,s=a===void 0?!1:a,i=e.syncToInitialValues,l=i===void 0?!0:i;e.children,e.contentRender,e.submitter;var u=e.fieldProps,f=e.proFieldProps,m=e.formItemProps,v=e.groupProps,p=e.dateFormatter,A=p===void 0?"string":p,x=e.formRef;e.onInit;var y=e.form,_=e.formComponentType;e.onReset,e.grid,e.rowProps,e.colProps;var B=e.omitNil,N=B===void 0?!0:B,g=e.request,L=e.params,j=e.initialValues,I=e.formKey,Y=I===void 0?Yr:I;e.readonly;var H=e.onLoadingChange,V=e.loading,Q=Fe(e,Eo),q=d.useRef({}),X=Ct(!1,{onChange:H,value:V}),M=be(X,2),D=M[0],$=M[1],O=bo({},{disabled:!n}),F=be(O,2),S=F[0],h=F[1],w=d.useRef(Qr());d.useEffect(function(){Yr+=0},[]);var T=Nt({request:g,params:L,proFieldKey:Y}),b=be(T,1),P=b[0],re=d.useContext(ve.ConfigContext),oe=re.getPrefixCls,k=oe("pro-form"),ee=zr("ProForm",function(G){return W({},".".concat(k),W({},"> div:not(".concat(G.proComponentsCls,"-form-light-filter)"),{".pro-field":{maxWidth:"100%","@media screen and (max-width: 575px)":{maxWidth:"calc(93vw - 48px)"},"&-xs":{width:104},"&-s":{width:216},"&-sm":{width:216},"&-m":{width:328},"&-md":{width:328},"&-l":{width:440},"&-lg":{width:440},"&-xl":{width:552}}}))}),xe=ee.wrapSSR,Re=ee.hashId,te=d.useState(function(){return n?He(n,S,"get"):{}}),ie=be(te,2),pe=ie[0],$e=ie[1],he=d.useRef({}),ue=d.useRef({}),le=Be(function(G,E,z){return go(Mt(G,A,ue.current,E,z),he.current,E)});d.useEffect(function(){l||$e({})},[l]);var R=Be(function(){return c(c({},S),t)});d.useEffect(function(){n&&h(He(n,R(),"set"))},[t,R,n]);var Z=d.useMemo(function(){if(!(typeof window>"u")&&_&&["DrawerForm"].includes(_))return function(G){return G.parentNode||document.body}},[_]),ne=Be(de(K().mark(function G(){var E,z,J,ce,ge,Ie,_e;return K().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(Q.onFinish){se.next=2;break}return se.abrupt("return");case 2:if(!D){se.next=4;break}return se.abrupt("return");case 4:return se.prev=4,J=q==null||(E=q.current)===null||E===void 0||(z=E.getFieldsFormatValue)===null||z===void 0?void 0:z.call(E),ce=Q.onFinish(J),ce instanceof Promise&&$(!0),se.next=10,ce;case 10:n&&(_e=Object.keys(q==null||(ge=q.current)===null||ge===void 0||(Ie=ge.getFieldsFormatValue)===null||Ie===void 0?void 0:Ie.call(ge,void 0,!1)).reduce(function(je,wr){var rr;return c(c({},je),{},W({},wr,(rr=J[wr])!==null&&rr!==void 0?rr:void 0))},t),Object.keys(S).forEach(function(je){_e[je]!==!1&&_e[je]!==0&&!_e[je]&&(_e[je]=void 0)}),h(He(n,_e,"set"))),$(!1),se.next=18;break;case 14:se.prev=14,se.t0=se.catch(4),console.log(se.t0),$(!1);case 18:case"end":return se.stop()}},G,null,[[4,14]])})));return d.useImperativeHandle(x,function(){return q.current},[!P]),!P&&e.request?C.jsx("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"},children:C.jsx(xt,{})}):xe(C.jsx(br.Provider,{value:{mode:e.readonly?"read":"edit"},children:C.jsx(yt,{needDeps:!0,children:C.jsx(vt.Provider,{value:{formRef:q,fieldProps:u,proFieldProps:f,formItemProps:m,groupProps:v,formComponentType:_,getPopupContainer:Z,formKey:w.current,setFieldValueType:function(E,z){var J=z.valueType,ce=J===void 0?"text":J,ge=z.dateFormat,Ie=z.transform;Array.isArray(E)&&(he.current=we(he.current,E,Ie),ue.current=we(ue.current,E,{valueType:ce,dateFormat:ge}))}},children:C.jsx(Je.Provider,{value:{},children:C.jsx(Se,c(c({onKeyPress:function(E){if(o&&E.key==="Enter"){var z;(z=q.current)===null||z===void 0||z.submit()}},autoComplete:"off",form:y},qe(Q,["ref","labelWidth","autoFocusFirstInput"])),{},{ref:function(E){q.current&&(q.current.nativeElement=E==null?void 0:E.nativeElement)},initialValues:s?c(c(c({},j),P),pe):c(c(c({},pe),j),P),onValuesChange:function(E,z){var J;Q==null||(J=Q.onValuesChange)===null||J===void 0||J.call(Q,le(E,!!N),le(z,!!N))},className:ye(e.className,k,Re),onFinish:ne,children:C.jsx(Mo,c(c({transformKey:le,autoComplete:"off",loading:D,onUrlSearchChange:h},e),{},{formRef:q,initialValues:c(c({},j),P)}))}))})})})}))}export{Je as A,It as B,yr as C,Qr as D,br as E,vt as F,mt as G,Wo as H,Go as I,Zr as M,Wr as P,Ke as S,Ir as U,tr as _,St as a,Be as b,Jn as c,pr as d,Ae as e,ke as f,Ft as g,gr as h,rt as i,fr as j,ot as k,st as l,Lt as m,lr as n,qo as o,Te as p,Xe as q,Kr as r,Qa as s,vn as t,Vt as u,Oe as v,De as w,po as x,Ye as y,We as z};
