import{r as g,al as F,am as E,d as xe,g as de,az as G,aC as Fe,G as Re,aI as qt,aG as Ut,c3 as mn,bd as Pe,an as qe,aZ as wt,aq as Rt,bc as Ie,ap as bn,H as _e,t as Sn,I as et,f as W,ai as Gt,a$ as xn,aE as En,aF as Kn,aH as T,aY as ze,i as Cn,cd as Nn,k as kn,n as wn,o as ut,aR as Rn,b1 as Dn,aK as Mn,ak as Dt}from"./index-ZI51y314.js";import{R as Yt}from"./index-BIgUuT9u.js";import{g as $n}from"./index-C4Es4GTO.js";var Xt=g.forwardRef(function(n,t){var i=n.height,e=n.offsetY,o=n.offsetX,s=n.children,y=n.prefixCls,r=n.onInnerResize,l=n.innerProps,a=n.rtl,c=n.extra,d={},u={display:"flex",flexDirection:"column"};return e!==void 0&&(d={height:i,position:"relative",overflow:"hidden"},u=F(F({},u),{},E(E(E(E(E({transform:"translateY(".concat(e,"px)")},a?"marginRight":"marginLeft",-o),"position","absolute"),"left",0),"right",0),"top",0))),g.createElement("div",{style:d},g.createElement(Yt,{onResize:function(p){var m=p.offsetHeight;m&&r&&r()}},g.createElement("div",xe({style:u,className:de(E({},"".concat(y,"-holder-inner"),y)),ref:t},l),s,c)))});Xt.displayName="Filler";function On(n){var t=n.children,i=n.setRef,e=g.useCallback(function(o){i(o)},[]);return g.cloneElement(t,{ref:e})}function Pn(n,t,i,e,o,s,y,r){var l=r.getKey;return n.slice(t,i+1).map(function(a,c){var d=t+c,u=y(a,d,{style:{width:e},offsetX:o}),f=l(a);return g.createElement(On,{key:f,setRef:function(m){return s(a,m)}},u)})}function Tn(n,t,i){var e=n.length,o=t.length,s,y;if(e===0&&o===0)return null;e<o?(s=n,y=t):(s=t,y=n);var r={__EMPTY_ITEM__:!0};function l(p){return p!==void 0?i(p):r}for(var a=null,c=Math.abs(e-o)!==1,d=0;d<y.length;d+=1){var u=l(s[d]),f=l(y[d]);if(u!==f){a=d,c=c||u!==l(y[d+1]);break}}return a===null?null:{index:a,multiple:c}}function Ln(n,t,i){var e=g.useState(n),o=G(e,2),s=o[0],y=o[1],r=g.useState(null),l=G(r,2),a=l[0],c=l[1];return g.useEffect(function(){var d=Tn(s||[],n||[],t);(d==null?void 0:d.index)!==void 0&&c(n[d.index]),y(n)},[n]),[a]}var Mt=(typeof navigator>"u"?"undefined":Fe(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const Zt=function(n,t,i,e){var o=g.useRef(!1),s=g.useRef(null);function y(){clearTimeout(s.current),o.current=!0,s.current=setTimeout(function(){o.current=!1},50)}var r=g.useRef({top:n,bottom:t,left:i,right:e});return r.current.top=n,r.current.bottom=t,r.current.left=i,r.current.right=e,function(l,a){var c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=l?a<0&&r.current.left||a>0&&r.current.right:a<0&&r.current.top||a>0&&r.current.bottom;return c&&d?(clearTimeout(s.current),o.current=!1):(!d||o.current)&&y(),!o.current&&d}};function In(n,t,i,e,o,s,y){var r=g.useRef(0),l=g.useRef(null),a=g.useRef(null),c=g.useRef(!1),d=Zt(t,i,e,o);function u(S,x){if(Re.cancel(l.current),!d(!1,x)){var K=S;if(!K._virtualHandled)K._virtualHandled=!0;else return;r.current+=x,a.current=x,Mt||K.preventDefault(),l.current=Re(function(){var C=c.current?10:1;y(r.current*C,!1),r.current=0})}}function f(S,x){y(x,!0),Mt||S.preventDefault()}var p=g.useRef(null),m=g.useRef(null);function v(S){if(n){Re.cancel(m.current),m.current=Re(function(){p.current=null},2);var x=S.deltaX,K=S.deltaY,C=S.shiftKey,R=x,N=K;(p.current==="sx"||!p.current&&C&&K&&!x)&&(R=K,N=0,p.current="sx");var M=Math.abs(R),h=Math.abs(N);p.current===null&&(p.current=s&&M>h?"x":"y"),p.current==="y"?u(S,N):f(S,R)}}function b(S){n&&(c.current=S.detail===a.current)}return[v,b]}function _n(n,t,i,e){var o=g.useMemo(function(){return[new Map,[]]},[n,i.id,e]),s=G(o,2),y=s[0],r=s[1],l=function(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:c,u=y.get(c),f=y.get(d);if(u===void 0||f===void 0)for(var p=n.length,m=r.length;m<p;m+=1){var v,b=n[m],S=t(b);y.set(S,m);var x=(v=i.get(S))!==null&&v!==void 0?v:e;if(r[m]=(r[m-1]||0)+x,S===c&&(u=m),S===d&&(f=m),u!==void 0&&f!==void 0)break}return{top:r[u-1]||0,bottom:r[f]}};return l}var An=function(){function n(){Ut(this,n),E(this,"maps",void 0),E(this,"id",0),E(this,"diffKeys",new Set),this.maps=Object.create(null)}return qt(n,[{key:"set",value:function(i,e){this.maps[i]=e,this.id+=1,this.diffKeys.add(i)}},{key:"get",value:function(i){return this.maps[i]}},{key:"resetRecord",value:function(){this.diffKeys.clear()}},{key:"getRecord",value:function(){return this.diffKeys}}]),n}();function $t(n){var t=parseFloat(n);return isNaN(t)?0:t}function Hn(n,t,i){var e=g.useState(0),o=G(e,2),s=o[0],y=o[1],r=g.useRef(new Map),l=g.useRef(new An),a=g.useRef(0);function c(){a.current+=1}function d(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;c();var p=function(){var b=!1;r.current.forEach(function(S,x){if(S&&S.offsetParent){var K=mn(S),C=K.offsetHeight,R=getComputedStyle(K),N=R.marginTop,M=R.marginBottom,h=$t(N),O=$t(M),$=C+h+O;l.current.get(x)!==$&&(l.current.set(x,$),b=!0)}}),b&&y(function(S){return S+1})};if(f)p();else{a.current+=1;var m=a.current;Promise.resolve().then(function(){m===a.current&&p()})}}function u(f,p){var m=n(f);r.current.get(m),p?(r.current.set(m,p),d()):r.current.delete(m)}return g.useEffect(function(){return c},[]),[u,d,l.current,s]}var Ot=14/15;function Bn(n,t,i){var e=g.useRef(!1),o=g.useRef(0),s=g.useRef(0),y=g.useRef(null),r=g.useRef(null),l,a=function(f){if(e.current){var p=Math.ceil(f.touches[0].pageX),m=Math.ceil(f.touches[0].pageY),v=o.current-p,b=s.current-m,S=Math.abs(v)>Math.abs(b);S?o.current=p:s.current=m;var x=i(S,S?v:b,!1,f);x&&f.preventDefault(),clearInterval(r.current),x&&(r.current=setInterval(function(){S?v*=Ot:b*=Ot;var K=Math.floor(S?v:b);(!i(S,K,!0)||Math.abs(K)<=.1)&&clearInterval(r.current)},16))}},c=function(){e.current=!1,l()},d=function(f){l(),f.touches.length===1&&!e.current&&(e.current=!0,o.current=Math.ceil(f.touches[0].pageX),s.current=Math.ceil(f.touches[0].pageY),y.current=f.target,y.current.addEventListener("touchmove",a,{passive:!1}),y.current.addEventListener("touchend",c,{passive:!0}))};l=function(){y.current&&(y.current.removeEventListener("touchmove",a),y.current.removeEventListener("touchend",c))},Pe(function(){return n&&t.current.addEventListener("touchstart",d,{passive:!0}),function(){var u;(u=t.current)===null||u===void 0||u.removeEventListener("touchstart",d),l(),clearInterval(r.current)}},[n])}function Pt(n){return Math.floor(Math.pow(n,.5))}function ft(n,t){var i="touches"in n?n.touches[0]:n;return i[t?"pageX":"pageY"]-window[t?"scrollX":"scrollY"]}function zn(n,t,i){g.useEffect(function(){var e=t.current;if(n&&e){var o=!1,s,y,r=function(){Re.cancel(s)},l=function u(){r(),s=Re(function(){i(y),u()})},a=function(f){if(!f.target.draggable){var p=f;p._virtualHandled||(p._virtualHandled=!0,o=!0)}},c=function(){o=!1,r()},d=function(f){if(o){var p=ft(f,!1),m=e.getBoundingClientRect(),v=m.top,b=m.bottom;if(p<=v){var S=v-p;y=-Pt(S),l()}else if(p>=b){var x=p-b;y=Pt(x),l()}else r()}};return e.addEventListener("mousedown",a),e.ownerDocument.addEventListener("mouseup",c),e.ownerDocument.addEventListener("mousemove",d),function(){e.removeEventListener("mousedown",a),e.ownerDocument.removeEventListener("mouseup",c),e.ownerDocument.removeEventListener("mousemove",d),r()}}},[n])}var Fn=10;function jn(n,t,i,e,o,s,y,r){var l=g.useRef(),a=g.useState(null),c=G(a,2),d=c[0],u=c[1];return Pe(function(){if(d&&d.times<Fn){if(!n.current){u(function(fe){return F({},fe)});return}s();var f=d.targetAlign,p=d.originAlign,m=d.index,v=d.offset,b=n.current.clientHeight,S=!1,x=f,K=null;if(b){for(var C=f||p,R=0,N=0,M=0,h=Math.min(t.length-1,m),O=0;O<=h;O+=1){var $=o(t[O]);N=R;var A=i.get($);M=N+(A===void 0?e:A),R=M}for(var _=C==="top"?v:b-v,H=h;H>=0;H-=1){var j=o(t[H]),P=i.get(j);if(P===void 0){S=!0;break}if(_-=P,_<=0)break}switch(C){case"top":K=N-v;break;case"bottom":K=M-b+v;break;default:{var V=n.current.scrollTop,Z=V+b;N<V?x="top":M>Z&&(x="bottom")}}K!==null&&y(K),K!==d.lastTop&&(S=!0)}S&&u(F(F({},d),{},{times:d.times+1,targetAlign:x,lastTop:K}))}},[d,n.current]),function(f){if(f==null){r();return}if(Re.cancel(l.current),typeof f=="number")y(f);else if(f&&Fe(f)==="object"){var p,m=f.align;"index"in f?p=f.index:p=t.findIndex(function(S){return o(S)===f.key});var v=f.offset,b=v===void 0?0:v;u({times:0,index:p,offset:b,originAlign:m})}}}var Tt=g.forwardRef(function(n,t){var i=n.prefixCls,e=n.rtl,o=n.scrollOffset,s=n.scrollRange,y=n.onStartMove,r=n.onStopMove,l=n.onScroll,a=n.horizontal,c=n.spinSize,d=n.containerSize,u=n.style,f=n.thumbStyle,p=n.showScrollBar,m=g.useState(!1),v=G(m,2),b=v[0],S=v[1],x=g.useState(null),K=G(x,2),C=K[0],R=K[1],N=g.useState(null),M=G(N,2),h=M[0],O=M[1],$=!e,A=g.useRef(),_=g.useRef(),H=g.useState(p),j=G(H,2),P=j[0],V=j[1],Z=g.useRef(),fe=function(){p===!0||p===!1||(clearTimeout(Z.current),V(!0),Z.current=setTimeout(function(){V(!1)},3e3))},oe=s-d||0,te=d-c||0,ce=g.useMemo(function(){if(o===0||oe===0)return 0;var X=o/oe;return X*te},[o,oe,te]),B=function(U){U.stopPropagation(),U.preventDefault()},ne=g.useRef({top:ce,dragging:b,pageY:C,startTop:h});ne.current={top:ce,dragging:b,pageY:C,startTop:h};var me=function(U){S(!0),R(ft(U,a)),O(ne.current.top),y(),U.stopPropagation(),U.preventDefault()};g.useEffect(function(){var X=function(he){he.preventDefault()},U=A.current,Q=_.current;return U.addEventListener("touchstart",X,{passive:!1}),Q.addEventListener("touchstart",me,{passive:!1}),function(){U.removeEventListener("touchstart",X),Q.removeEventListener("touchstart",me)}},[]);var re=g.useRef();re.current=oe;var ke=g.useRef();ke.current=te,g.useEffect(function(){if(b){var X,U=function(he){var Ee=ne.current,De=Ee.dragging,we=Ee.pageY,Te=Ee.startTop;Re.cancel(X);var be=A.current.getBoundingClientRect(),z=d/(a?be.width:be.height);if(De){var J=(ft(he,a)-we)*z,se=Te;!$&&a?se-=J:se+=J;var Ne=re.current,Ke=ke.current,Me=Ke?se/Ke:0,ge=Math.ceil(Me*Ne);ge=Math.max(ge,0),ge=Math.min(ge,Ne),X=Re(function(){l(ge,a)})}},Q=function(){S(!1),r()};return window.addEventListener("mousemove",U,{passive:!0}),window.addEventListener("touchmove",U,{passive:!0}),window.addEventListener("mouseup",Q,{passive:!0}),window.addEventListener("touchend",Q,{passive:!0}),function(){window.removeEventListener("mousemove",U),window.removeEventListener("touchmove",U),window.removeEventListener("mouseup",Q),window.removeEventListener("touchend",Q),Re.cancel(X)}}},[b]),g.useEffect(function(){return fe(),function(){clearTimeout(Z.current)}},[o]),g.useImperativeHandle(t,function(){return{delayHidden:fe}});var ae="".concat(i,"-scrollbar"),q={position:"absolute",visibility:P?null:"hidden"},ie={position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:99,cursor:"pointer",userSelect:"none"};return a?(q.height=8,q.left=0,q.right=0,q.bottom=0,ie.height="100%",ie.width=c,$?ie.left=ce:ie.right=ce):(q.width=8,q.top=0,q.bottom=0,$?q.right=0:q.left=0,ie.width="100%",ie.height=c,ie.top=ce),g.createElement("div",{ref:A,className:de(ae,E(E(E({},"".concat(ae,"-horizontal"),a),"".concat(ae,"-vertical"),!a),"".concat(ae,"-visible"),P)),style:F(F({},q),u),onMouseDown:B,onMouseMove:fe},g.createElement("div",{ref:_,className:de("".concat(ae,"-thumb"),E({},"".concat(ae,"-thumb-moving"),b)),style:F(F({},ie),f),onMouseDown:me}))}),Wn=20;function Lt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=n/t*n;return isNaN(i)&&(i=0),i=Math.max(i,Wn),Math.floor(i)}var Vn=["prefixCls","className","height","itemHeight","fullHeight","style","data","children","itemKey","virtual","direction","scrollWidth","component","onScroll","onVirtualScroll","onVisibleChange","innerProps","extraRender","styles","showScrollBar"],qn=[],Un={overflowY:"auto",overflowAnchor:"none"};function Gn(n,t){var i=n.prefixCls,e=i===void 0?"rc-virtual-list":i,o=n.className,s=n.height,y=n.itemHeight,r=n.fullHeight,l=r===void 0?!0:r,a=n.style,c=n.data,d=n.children,u=n.itemKey,f=n.virtual,p=n.direction,m=n.scrollWidth,v=n.component,b=v===void 0?"div":v,S=n.onScroll,x=n.onVirtualScroll,K=n.onVisibleChange,C=n.innerProps,R=n.extraRender,N=n.styles,M=n.showScrollBar,h=M===void 0?"optional":M,O=qe(n,Vn),$=g.useCallback(function(D){return typeof u=="function"?u(D):D==null?void 0:D[u]},[u]),A=Hn($),_=G(A,4),H=_[0],j=_[1],P=_[2],V=_[3],Z=!!(f!==!1&&s&&y),fe=g.useMemo(function(){return Object.values(P.maps).reduce(function(D,w){return D+w},0)},[P.id,P.maps]),oe=Z&&c&&(Math.max(y*c.length,fe)>s||!!m),te=p==="rtl",ce=de(e,E({},"".concat(e,"-rtl"),te),o),B=c||qn,ne=g.useRef(),me=g.useRef(),re=g.useRef(),ke=g.useState(0),ae=G(ke,2),q=ae[0],ie=ae[1],X=g.useState(0),U=G(X,2),Q=U[0],ve=U[1],he=g.useState(!1),Ee=G(he,2),De=Ee[0],we=Ee[1],Te=function(){we(!0)},be=function(){we(!1)},z={getKey:$};function J(D){ie(function(w){var L;typeof D=="function"?L=D(w):L=D;var Y=sn(L);return ne.current.scrollTop=Y,Y})}var se=g.useRef({start:0,end:B.length}),Ne=g.useRef(),Ke=Ln(B,$),Me=G(Ke,1),ge=Me[0];Ne.current=ge;var Se=g.useMemo(function(){if(!Z)return{scrollHeight:void 0,start:0,end:B.length-1,offset:void 0};if(!oe){var D;return{scrollHeight:((D=me.current)===null||D===void 0?void 0:D.offsetHeight)||0,start:0,end:B.length-1,offset:void 0}}for(var w=0,L,Y,le,Ze=B.length,We=0;We<Ze;We+=1){var yn=B[We],pn=$(yn),kt=P.get(pn),lt=w+(kt===void 0?y:kt);lt>=q&&L===void 0&&(L=We,Y=w),lt>q+s&&le===void 0&&(le=We),w=lt}return L===void 0&&(L=0,Y=0,le=Math.ceil(s/y)),le===void 0&&(le=B.length-1),le=Math.min(le+1,B.length-1),{scrollHeight:w,start:L,end:le,offset:Y}},[oe,Z,q,B,V,s]),ue=Se.scrollHeight,$e=Se.start,I=Se.end,k=Se.offset;se.current.start=$e,se.current.end=I,g.useLayoutEffect(function(){var D=P.getRecord();if(D.size===1){var w=Array.from(D)[0],L=$(B[$e]);if(L===w){var Y=P.get(w),le=Y-y;J(function(Ze){return Ze+le})}}P.resetRecord()},[ue]);var Ce=g.useState({width:0,height:s}),He=G(Ce,2),ye=He[0],Be=He[1],an=function(w){Be({width:w.offsetWidth,height:w.offsetHeight})},yt=g.useRef(),pt=g.useRef(),on=g.useMemo(function(){return Lt(ye.width,m)},[ye.width,m]),ln=g.useMemo(function(){return Lt(ye.height,ue)},[ye.height,ue]),tt=ue-s,nt=g.useRef(tt);nt.current=tt;function sn(D){var w=D;return Number.isNaN(nt.current)||(w=Math.min(w,nt.current)),w=Math.max(w,0),w}var Ge=q<=0,Ye=q>=tt,mt=Q<=0,bt=Q>=m,dn=Zt(Ge,Ye,mt,bt),rt=function(){return{x:te?-Q:Q,y:q}},at=g.useRef(rt()),Xe=wt(function(D){if(x){var w=F(F({},rt()),D);(at.current.x!==w.x||at.current.y!==w.y)&&(x(w),at.current=w)}});function St(D,w){var L=D;w?(Rt.flushSync(function(){ve(L)}),Xe()):J(L)}function cn(D){var w=D.currentTarget.scrollTop;w!==q&&J(w),S==null||S(D),Xe()}var ot=function(w){var L=w,Y=m?m-ye.width:0;return L=Math.max(L,0),L=Math.min(L,Y),L},un=wt(function(D,w){w?(Rt.flushSync(function(){ve(function(L){var Y=L+(te?-D:D);return ot(Y)})}),Xe()):J(function(L){var Y=L+D;return Y})}),fn=In(Z,Ge,Ye,mt,bt,!!m,un),xt=G(fn,2),it=xt[0],Et=xt[1];Bn(Z,ne,function(D,w,L,Y){var le=Y;return dn(D,w,L)?!1:!le||!le._virtualHandled?(le&&(le._virtualHandled=!0),it({preventDefault:function(){},deltaX:D?w:0,deltaY:D?0:w}),!0):!1}),zn(oe,ne,function(D){J(function(w){return w+D})}),Pe(function(){function D(L){var Y=Ge&&L.detail<0,le=Ye&&L.detail>0;Z&&!Y&&!le&&L.preventDefault()}var w=ne.current;return w.addEventListener("wheel",it,{passive:!1}),w.addEventListener("DOMMouseScroll",Et,{passive:!0}),w.addEventListener("MozMousePixelScroll",D,{passive:!1}),function(){w.removeEventListener("wheel",it),w.removeEventListener("DOMMouseScroll",Et),w.removeEventListener("MozMousePixelScroll",D)}},[Z,Ge,Ye]),Pe(function(){if(m){var D=ot(Q);ve(D),Xe({x:D})}},[ye.width,m]);var Kt=function(){var w,L;(w=yt.current)===null||w===void 0||w.delayHidden(),(L=pt.current)===null||L===void 0||L.delayHidden()},Ct=jn(ne,B,P,y,$,function(){return j(!0)},J,Kt);g.useImperativeHandle(t,function(){return{nativeElement:re.current,getScrollInfo:rt,scrollTo:function(w){function L(Y){return Y&&Fe(Y)==="object"&&("left"in Y||"top"in Y)}L(w)?(w.left!==void 0&&ve(ot(w.left)),Ct(w.top)):Ct(w)}}}),Pe(function(){if(K){var D=B.slice($e,I+1);K(D,B)}},[$e,I,B]);var vn=_n(B,$,P,y),hn=R==null?void 0:R({start:$e,end:I,virtual:oe,offsetX:Q,offsetY:k,rtl:te,getSize:vn}),gn=Pn(B,$e,I,m,Q,H,d,z),je=null;s&&(je=F(E({},l?"height":"maxHeight",s),Un),Z&&(je.overflowY="hidden",m&&(je.overflowX="hidden"),De&&(je.pointerEvents="none")));var Nt={};return te&&(Nt.dir="rtl"),g.createElement("div",xe({ref:re,style:F(F({},a),{},{position:"relative"}),className:ce},Nt,O),g.createElement(Yt,{onResize:an},g.createElement(b,{className:"".concat(e,"-holder"),style:je,ref:ne,onScroll:cn,onMouseEnter:Kt},g.createElement(Xt,{prefixCls:e,height:ue,offsetX:Q,offsetY:k,scrollWidth:m,onInnerResize:j,ref:me,innerProps:C,rtl:te,extra:hn},gn))),oe&&ue>s&&g.createElement(Tt,{ref:yt,prefixCls:e,scrollOffset:q,scrollRange:ue,rtl:te,onScroll:St,onStartMove:Te,onStopMove:be,spinSize:ln,containerSize:ye.height,style:N==null?void 0:N.verticalScrollBar,thumbStyle:N==null?void 0:N.verticalScrollBarThumb,showScrollBar:h}),oe&&m>ye.width&&g.createElement(Tt,{ref:pt,prefixCls:e,scrollOffset:Q,scrollRange:m,rtl:te,onScroll:St,onStartMove:Te,onStopMove:be,spinSize:on,containerSize:ye.width,horizontal:!0,style:N==null?void 0:N.horizontalScrollBar,thumbStyle:N==null?void 0:N.horizontalScrollBarThumb,showScrollBar:h}))}var Qt=g.forwardRef(Gn);Qt.displayName="List";function pe(n,t){return n[t]}var Yn=["children"];function Jt(n,t){return"".concat(n,"-").concat(t)}function Xn(n){return n&&n.type&&n.type.isTreeNode}function Ue(n,t){return n??t}function Qe(n){var t=n||{},i=t.title,e=t._title,o=t.key,s=t.children,y=i||"title";return{title:y,_title:e||[y],key:o||"key",children:s||"children"}}function Zn(n){function t(i){var e=Sn(i);return e.map(function(o){if(!Xn(o))return Ie(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var s=o.key,y=o.props,r=y.children,l=qe(y,Yn),a=F({key:s},l),c=t(r);return c.length&&(a.children=c),a}).filter(function(o){return o})}return t(n)}function st(n,t,i){var e=Qe(i),o=e._title,s=e.key,y=e.children,r=new Set(t===!0?[]:t),l=[];function a(c){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return c.map(function(u,f){for(var p=Jt(d?d.pos:"0",f),m=Ue(u[s],p),v,b=0;b<o.length;b+=1){var S=o[b];if(u[S]!==void 0){v=u[S];break}}var x=Object.assign(bn(u,[].concat(_e(o),[s,y])),{title:v,key:m,parent:d,pos:p,children:null,data:u,isStart:[].concat(_e(d?d.isStart:[]),[f===0]),isEnd:[].concat(_e(d?d.isEnd:[]),[f===c.length-1])});return l.push(x),t===!0||r.has(m)?x.children=a(u[y]||[],x):x.children=[],x})}return a(n),l}function Qn(n,t,i){var e={};Fe(i)==="object"?e=i:e={externalGetKey:i},e=e||{};var o=e,s=o.childrenPropName,y=o.externalGetKey,r=o.fieldNames,l=Qe(r),a=l.key,c=l.children,d=s||c,u;y?typeof y=="string"?u=function(m){return m[y]}:typeof y=="function"&&(u=function(m){return y(m)}):u=function(m,v){return Ue(m[a],v)};function f(p,m,v,b){var S=p?p[d]:n,x=p?Jt(v.pos,m):"0",K=p?[].concat(_e(b),[p]):[];if(p){var C=u(p,x),R={node:p,index:m,pos:x,key:C,parentPos:v.node?v.pos:null,level:v.level+1,nodes:K};t(R)}S&&S.forEach(function(N,M){f(N,M,{node:p,pos:x,level:v?v.level+1:-1},K)})}f(null)}function Jn(n){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.initWrapper,e=t.processEntity,o=t.onProcessFinished,s=t.externalGetKey,y=t.childrenPropName,r=t.fieldNames,l=arguments.length>2?arguments[2]:void 0,a=s||l,c={},d={},u={posEntities:c,keyEntities:d};return i&&(u=i(u)||u),Qn(n,function(f){var p=f.node,m=f.index,v=f.pos,b=f.key,S=f.parentPos,x=f.level,K=f.nodes,C={node:p,nodes:K,index:m,key:b,pos:v,level:x},R=Ue(b,v);c[v]=C,d[R]=C,C.parent=c[S],C.parent&&(C.parent.children=C.parent.children||[],C.parent.children.push(C)),e&&e(C,u)},{externalGetKey:a,childrenPropName:y,fieldNames:r}),o&&o(u),u}function Ve(n,t){var i=t.expandedKeys,e=t.selectedKeys,o=t.loadedKeys,s=t.loadingKeys,y=t.checkedKeys,r=t.halfCheckedKeys,l=t.dragOverNodeKey,a=t.dropPosition,c=t.keyEntities,d=pe(c,n),u={eventKey:n,expanded:i.indexOf(n)!==-1,selected:e.indexOf(n)!==-1,loaded:o.indexOf(n)!==-1,loading:s.indexOf(n)!==-1,checked:y.indexOf(n)!==-1,halfChecked:r.indexOf(n)!==-1,pos:String(d?d.pos:""),dragOver:l===n&&a===0,dragOverGapTop:l===n&&a===-1,dragOverGapBottom:l===n&&a===1};return u}function ee(n){var t=n.data,i=n.expanded,e=n.selected,o=n.checked,s=n.loaded,y=n.loading,r=n.halfChecked,l=n.dragOver,a=n.dragOverGapTop,c=n.dragOverGapBottom,d=n.pos,u=n.active,f=n.eventKey,p=F(F({},t),{},{expanded:i,selected:e,checked:o,loaded:s,loading:y,halfChecked:r,dragOver:l,dragOverGapTop:a,dragOverGapBottom:c,pos:d,active:u,key:f});return"props"in p||Object.defineProperty(p,"props",{get:function(){return Ie(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),n}}),p}function en(n,t){var i=new Set;return n.forEach(function(e){t.has(e)||i.add(e)}),i}function er(n){var t=n||{},i=t.disabled,e=t.disableCheckbox,o=t.checkable;return!!(i||e)||o===!1}function tr(n,t,i,e){for(var o=new Set(n),s=new Set,y=0;y<=i;y+=1){var r=t.get(y)||new Set;r.forEach(function(d){var u=d.key,f=d.node,p=d.children,m=p===void 0?[]:p;o.has(u)&&!e(f)&&m.filter(function(v){return!e(v.node)}).forEach(function(v){o.add(v.key)})})}for(var l=new Set,a=i;a>=0;a-=1){var c=t.get(a)||new Set;c.forEach(function(d){var u=d.parent,f=d.node;if(!(e(f)||!d.parent||l.has(d.parent.key))){if(e(d.parent.node)){l.add(u.key);return}var p=!0,m=!1;(u.children||[]).filter(function(v){return!e(v.node)}).forEach(function(v){var b=v.key,S=o.has(b);p&&!S&&(p=!1),!m&&(S||s.has(b))&&(m=!0)}),p&&o.add(u.key),m&&s.add(u.key),l.add(u.key)}})}return{checkedKeys:Array.from(o),halfCheckedKeys:Array.from(en(s,o))}}function nr(n,t,i,e,o){for(var s=new Set(n),y=new Set(t),r=0;r<=e;r+=1){var l=i.get(r)||new Set;l.forEach(function(u){var f=u.key,p=u.node,m=u.children,v=m===void 0?[]:m;!s.has(f)&&!y.has(f)&&!o(p)&&v.filter(function(b){return!o(b.node)}).forEach(function(b){s.delete(b.key)})})}y=new Set;for(var a=new Set,c=e;c>=0;c-=1){var d=i.get(c)||new Set;d.forEach(function(u){var f=u.parent,p=u.node;if(!(o(p)||!u.parent||a.has(u.parent.key))){if(o(u.parent.node)){a.add(f.key);return}var m=!0,v=!1;(f.children||[]).filter(function(b){return!o(b.node)}).forEach(function(b){var S=b.key,x=s.has(S);m&&!x&&(m=!1),!v&&(x||y.has(S))&&(v=!0)}),m||s.delete(f.key),v&&y.add(f.key),a.add(f.key)}})}return{checkedKeys:Array.from(s),halfCheckedKeys:Array.from(en(y,s))}}function dt(n,t,i,e){var o=[],s;e?s=e:s=er;var y=new Set(n.filter(function(c){var d=!!pe(i,c);return d||o.push(c),d})),r=new Map,l=0;Object.keys(i).forEach(function(c){var d=i[c],u=d.level,f=r.get(u);f||(f=new Set,r.set(u,f)),f.add(d),l=Math.max(l,u)}),Ie(!o.length,"Tree missing follow keys: ".concat(o.slice(0,100).map(function(c){return"'".concat(c,"'")}).join(", ")));var a;return t===!0?a=tr(y,r,l,s):a=nr(y,t.halfCheckedKeys,r,l,s),a}var rr={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"},ar=function(t,i){return g.createElement(et,xe({},t,{ref:i,icon:rr}))},or=g.forwardRef(ar),ir={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"},lr=function(t,i){return g.createElement(et,xe({},t,{ref:i,icon:ir}))},sr=g.forwardRef(lr),dr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"},cr=function(t,i){return g.createElement(et,xe({},t,{ref:i,icon:dr}))},ur=g.forwardRef(cr),fr={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"},vr=function(t,i){return g.createElement(et,xe({},t,{ref:i,icon:fr}))},hr=g.forwardRef(vr),ht=g.createContext(null),gr=g.createContext({}),yr=function(t){for(var i=t.prefixCls,e=t.level,o=t.isStart,s=t.isEnd,y="".concat(i,"-indent-unit"),r=[],l=0;l<e;l+=1)r.push(g.createElement("span",{key:l,className:de(y,E(E({},"".concat(y,"-start"),o[l]),"".concat(y,"-end"),s[l]))}));return g.createElement("span",{"aria-hidden":"true",className:"".concat(i,"-indent")},r)};const pr=g.memo(yr);var mr=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],It="open",_t="close",br="---",Je=function(t){var i,e,o,s=t.eventKey,y=t.className,r=t.style,l=t.dragOver,a=t.dragOverGapTop,c=t.dragOverGapBottom,d=t.isLeaf,u=t.isStart,f=t.isEnd,p=t.expanded,m=t.selected,v=t.checked,b=t.halfChecked,S=t.loading,x=t.domRef,K=t.active,C=t.data,R=t.onMouseMove,N=t.selectable,M=qe(t,mr),h=W.useContext(ht),O=W.useContext(gr),$=W.useRef(null),A=W.useState(!1),_=G(A,2),H=_[0],j=_[1],P=!!(h.disabled||t.disabled||(i=O.nodeDisabled)!==null&&i!==void 0&&i.call(O,C)),V=W.useMemo(function(){return!h.checkable||t.checkable===!1?!1:h.checkable},[h.checkable,t.checkable]),Z=function(k){P||h.onNodeSelect(k,ee(t))},fe=function(k){P||!V||t.disableCheckbox||h.onNodeCheck(k,ee(t),!v)},oe=W.useMemo(function(){return typeof N=="boolean"?N:h.selectable},[N,h.selectable]),te=function(k){h.onNodeClick(k,ee(t)),oe?Z(k):fe(k)},ce=function(k){h.onNodeDoubleClick(k,ee(t))},B=function(k){h.onNodeMouseEnter(k,ee(t))},ne=function(k){h.onNodeMouseLeave(k,ee(t))},me=function(k){h.onNodeContextMenu(k,ee(t))},re=W.useMemo(function(){return!!(h.draggable&&(!h.draggable.nodeDraggable||h.draggable.nodeDraggable(C)))},[h.draggable,C]),ke=function(k){k.stopPropagation(),j(!0),h.onNodeDragStart(k,t);try{k.dataTransfer.setData("text/plain","")}catch{}},ae=function(k){k.preventDefault(),k.stopPropagation(),h.onNodeDragEnter(k,t)},q=function(k){k.preventDefault(),k.stopPropagation(),h.onNodeDragOver(k,t)},ie=function(k){k.stopPropagation(),h.onNodeDragLeave(k,t)},X=function(k){k.stopPropagation(),j(!1),h.onNodeDragEnd(k,t)},U=function(k){k.preventDefault(),k.stopPropagation(),j(!1),h.onNodeDrop(k,t)},Q=function(k){S||h.onNodeExpand(k,ee(t))},ve=W.useMemo(function(){var I=pe(h.keyEntities,s)||{},k=I.children;return!!(k||[]).length},[h.keyEntities,s]),he=W.useMemo(function(){return d===!1?!1:d||!h.loadData&&!ve||h.loadData&&t.loaded&&!ve},[d,h.loadData,ve,t.loaded]);W.useEffect(function(){S||typeof h.loadData=="function"&&p&&!he&&!t.loaded&&h.onNodeLoad(ee(t))},[S,h.loadData,h.onNodeLoad,p,he,t]);var Ee=W.useMemo(function(){var I;return(I=h.draggable)!==null&&I!==void 0&&I.icon?W.createElement("span",{className:"".concat(h.prefixCls,"-draggable-icon")},h.draggable.icon):null},[h.draggable]),De=function(k){var Ce=t.switcherIcon||h.switcherIcon;return typeof Ce=="function"?Ce(F(F({},t),{},{isLeaf:k})):Ce},we=function(){if(he){var k=De(!0);return k!==!1?W.createElement("span",{className:de("".concat(h.prefixCls,"-switcher"),"".concat(h.prefixCls,"-switcher-noop"))},k):null}var Ce=De(!1);return Ce!==!1?W.createElement("span",{onClick:Q,className:de("".concat(h.prefixCls,"-switcher"),"".concat(h.prefixCls,"-switcher_").concat(p?It:_t))},Ce):null},Te=W.useMemo(function(){if(!V)return null;var I=typeof V!="boolean"?V:null;return W.createElement("span",{className:de("".concat(h.prefixCls,"-checkbox"),E(E(E({},"".concat(h.prefixCls,"-checkbox-checked"),v),"".concat(h.prefixCls,"-checkbox-indeterminate"),!v&&b),"".concat(h.prefixCls,"-checkbox-disabled"),P||t.disableCheckbox)),onClick:fe,role:"checkbox","aria-checked":b?"mixed":v,"aria-disabled":P||t.disableCheckbox,"aria-label":"Select ".concat(typeof t.title=="string"?t.title:"tree node")},I)},[V,v,b,P,t.disableCheckbox,t.title]),be=W.useMemo(function(){return he?null:p?It:_t},[he,p]),z=W.useMemo(function(){return W.createElement("span",{className:de("".concat(h.prefixCls,"-iconEle"),"".concat(h.prefixCls,"-icon__").concat(be||"docu"),E({},"".concat(h.prefixCls,"-icon_loading"),S))})},[h.prefixCls,be,S]),J=W.useMemo(function(){var I=!!h.draggable,k=!t.disabled&&I&&h.dragOverNodeKey===s;return k?h.dropIndicatorRender({dropPosition:h.dropPosition,dropLevelOffset:h.dropLevelOffset,indent:h.indent,prefixCls:h.prefixCls,direction:h.direction}):null},[h.dropPosition,h.dropLevelOffset,h.indent,h.prefixCls,h.direction,h.draggable,h.dragOverNodeKey,h.dropIndicatorRender]),se=W.useMemo(function(){var I=t.title,k=I===void 0?br:I,Ce="".concat(h.prefixCls,"-node-content-wrapper"),He;if(h.showIcon){var ye=t.icon||h.icon;He=ye?W.createElement("span",{className:de("".concat(h.prefixCls,"-iconEle"),"".concat(h.prefixCls,"-icon__customize"))},typeof ye=="function"?ye(t):ye):z}else h.loadData&&S&&(He=z);var Be;return typeof k=="function"?Be=k(C):h.titleRender?Be=h.titleRender(C):Be=k,W.createElement("span",{ref:$,title:typeof k=="string"?k:"",className:de(Ce,"".concat(Ce,"-").concat(be||"normal"),E({},"".concat(h.prefixCls,"-node-selected"),!P&&(m||H))),onMouseEnter:B,onMouseLeave:ne,onContextMenu:me,onClick:te,onDoubleClick:ce},He,W.createElement("span",{className:"".concat(h.prefixCls,"-title")},Be),J)},[h.prefixCls,h.showIcon,t,h.icon,z,h.titleRender,C,be,B,ne,me,te,ce]),Ne=Gt(M,{aria:!0,data:!0}),Ke=pe(h.keyEntities,s)||{},Me=Ke.level,ge=f[f.length-1],Se=!P&&re,ue=h.draggingNodeKey===s,$e=N!==void 0?{"aria-selected":!!N}:void 0;return W.createElement("div",xe({ref:x,role:"treeitem","aria-expanded":d?void 0:p,className:de(y,"".concat(h.prefixCls,"-treenode"),(o={},E(E(E(E(E(E(E(E(E(E(o,"".concat(h.prefixCls,"-treenode-disabled"),P),"".concat(h.prefixCls,"-treenode-switcher-").concat(p?"open":"close"),!d),"".concat(h.prefixCls,"-treenode-checkbox-checked"),v),"".concat(h.prefixCls,"-treenode-checkbox-indeterminate"),b),"".concat(h.prefixCls,"-treenode-selected"),m),"".concat(h.prefixCls,"-treenode-loading"),S),"".concat(h.prefixCls,"-treenode-active"),K),"".concat(h.prefixCls,"-treenode-leaf-last"),ge),"".concat(h.prefixCls,"-treenode-draggable"),re),"dragging",ue),E(E(E(E(E(E(E(o,"drop-target",h.dropTargetKey===s),"drop-container",h.dropContainerKey===s),"drag-over",!P&&l),"drag-over-gap-top",!P&&a),"drag-over-gap-bottom",!P&&c),"filter-node",(e=h.filterTreeNode)===null||e===void 0?void 0:e.call(h,ee(t))),"".concat(h.prefixCls,"-treenode-leaf"),he))),style:r,draggable:Se,onDragStart:Se?ke:void 0,onDragEnter:re?ae:void 0,onDragOver:re?q:void 0,onDragLeave:re?ie:void 0,onDrop:re?U:void 0,onDragEnd:re?X:void 0,onMouseMove:R},$e,Ne),W.createElement(pr,{prefixCls:h.prefixCls,level:Me,isStart:u,isEnd:f}),Ee,we(),Te,se)};Je.isTreeNode=1;function Oe(n,t){if(!n)return[];var i=n.slice(),e=i.indexOf(t);return e>=0&&i.splice(e,1),i}function Le(n,t){var i=(n||[]).slice();return i.indexOf(t)===-1&&i.push(t),i}function gt(n){return n.split("-")}function Sr(n,t){var i=[],e=pe(t,n);function o(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];s.forEach(function(y){var r=y.key,l=y.children;i.push(r),o(l)})}return o(e.children),i}function xr(n){if(n.parent){var t=gt(n.pos);return Number(t[t.length-1])===n.parent.children.length-1}return!1}function Er(n){var t=gt(n.pos);return Number(t[t.length-1])===0}function At(n,t,i,e,o,s,y,r,l,a){var c,d=n.clientX,u=n.clientY,f=n.target.getBoundingClientRect(),p=f.top,m=f.height,v=(a==="rtl"?-1:1)*(((o==null?void 0:o.x)||0)-d),b=(v-12)/e,S=l.filter(function(P){var V;return(V=r[P])===null||V===void 0||(V=V.children)===null||V===void 0?void 0:V.length}),x=pe(r,i.eventKey);if(u<p+m/2){var K=y.findIndex(function(P){return P.key===x.key}),C=K<=0?0:K-1,R=y[C].key;x=pe(r,R)}var N=x.key,M=x,h=x.key,O=0,$=0;if(!S.includes(N))for(var A=0;A<b&&xr(x);A+=1)x=x.parent,$+=1;var _=t.data,H=x.node,j=!0;return Er(x)&&x.level===0&&u<p+m/2&&s({dragNode:_,dropNode:H,dropPosition:-1})&&x.key===i.eventKey?O=-1:(M.children||[]).length&&S.includes(h)?s({dragNode:_,dropNode:H,dropPosition:0})?O=0:j=!1:$===0?b>-1.5?s({dragNode:_,dropNode:H,dropPosition:1})?O=1:j=!1:s({dragNode:_,dropNode:H,dropPosition:0})?O=0:s({dragNode:_,dropNode:H,dropPosition:1})?O=1:j=!1:s({dragNode:_,dropNode:H,dropPosition:1})?O=1:j=!1,{dropPosition:O,dropLevelOffset:$,dropTargetKey:x.key,dropTargetPos:x.pos,dragOverNodeKey:h,dropContainerKey:O===0?null:((c=x.parent)===null||c===void 0?void 0:c.key)||null,dropAllowed:j}}function Ht(n,t){if(n){var i=t.multiple;return i?n.slice():n.length?[n[0]]:n}}function ct(n){if(!n)return null;var t;if(Array.isArray(n))t={checkedKeys:n,halfCheckedKeys:void 0};else if(Fe(n)==="object")t={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0};else return Ie(!1,"`checkedKeys` is not an array or an object"),null;return t}function Bt(n,t){var i=new Set;function e(o){if(!i.has(o)){var s=pe(t,o);if(s){i.add(o);var y=s.parent,r=s.node;r.disabled||y&&e(y.key)}}}return(n||[]).forEach(function(o){e(o)}),_e(i)}var Kr=function(t){var i=t.dropPosition,e=t.dropLevelOffset,o=t.indent,s={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(i){case-1:s.top=0,s.left=-e*o;break;case 1:s.bottom=0,s.left=-e*o;break;case 0:s.bottom=0,s.left=o;break}return W.createElement("div",{style:s})};function tn(n){if(n==null)throw new TypeError("Cannot destructure "+n)}function Cr(n,t){var i=g.useState(!1),e=G(i,2),o=e[0],s=e[1];Pe(function(){if(o)return n(),function(){t()}},[o]),Pe(function(){return s(!0),function(){s(!1)}},[])}var Nr=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],kr=g.forwardRef(function(n,t){var i=n.className,e=n.style,o=n.motion,s=n.motionNodes,y=n.motionType,r=n.onMotionStart,l=n.onMotionEnd,a=n.active,c=n.treeNodeRequiredProps,d=qe(n,Nr),u=g.useState(!0),f=G(u,2),p=f[0],m=f[1],v=g.useContext(ht),b=v.prefixCls,S=s&&y!=="hide";Pe(function(){s&&S!==p&&m(S)},[s]);var x=function(){s&&r()},K=g.useRef(!1),C=function(){s&&!K.current&&(K.current=!0,l())};Cr(x,C);var R=function(M){S===M&&C()};return s?g.createElement(xn,xe({ref:t,visible:p},o,{motionAppear:y==="show",onVisibleChanged:R}),function(N,M){var h=N.className,O=N.style;return g.createElement("div",{ref:M,className:de("".concat(b,"-treenode-motion"),h),style:O},s.map(function($){var A=Object.assign({},(tn($.data),$.data)),_=$.title,H=$.key,j=$.isStart,P=$.isEnd;delete A.children;var V=Ve(H,c);return g.createElement(Je,xe({},A,V,{title:_,active:a,data:$.data,key:H,isStart:j,isEnd:P}))}))}):g.createElement(Je,xe({domRef:t,className:i,style:e},d,{active:a}))});function wr(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=n.length,e=t.length;if(Math.abs(i-e)!==1)return{add:!1,key:null};function o(s,y){var r=new Map;s.forEach(function(a){r.set(a,!0)});var l=y.filter(function(a){return!r.has(a)});return l.length===1?l[0]:null}return i<e?{add:!0,key:o(n,t)}:{add:!1,key:o(t,n)}}function zt(n,t,i){var e=n.findIndex(function(r){return r.key===i}),o=n[e+1],s=t.findIndex(function(r){return r.key===i});if(o){var y=t.findIndex(function(r){return r.key===o.key});return t.slice(s+1,y)}return t.slice(s+1)}var Rr=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","scrollWidth","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],Ft={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},Dr=function(){},Ae="RC_TREE_MOTION_".concat(Math.random()),vt={key:Ae},nn={key:Ae,level:0,index:0,pos:"0",node:vt,nodes:[vt]},jt={parent:null,children:[],pos:nn.pos,data:vt,title:null,key:Ae,isStart:[],isEnd:[]};function Wt(n,t,i,e){return t===!1||!i?n:n.slice(0,Math.ceil(i/e)+1)}function Vt(n){var t=n.key,i=n.pos;return Ue(t,i)}function Mr(n){for(var t=String(n.data.key),i=n;i.parent;)i=i.parent,t="".concat(i.data.key," > ").concat(t);return t}var $r=g.forwardRef(function(n,t){var i=n.prefixCls,e=n.data;n.selectable,n.checkable;var o=n.expandedKeys,s=n.selectedKeys,y=n.checkedKeys,r=n.loadedKeys,l=n.loadingKeys,a=n.halfCheckedKeys,c=n.keyEntities,d=n.disabled,u=n.dragging,f=n.dragOverNodeKey,p=n.dropPosition,m=n.motion,v=n.height,b=n.itemHeight,S=n.virtual,x=n.scrollWidth,K=n.focusable,C=n.activeItem,R=n.focused,N=n.tabIndex,M=n.onKeyDown,h=n.onFocus,O=n.onBlur,$=n.onActiveChange,A=n.onListChangeStart,_=n.onListChangeEnd,H=qe(n,Rr),j=g.useRef(null),P=g.useRef(null);g.useImperativeHandle(t,function(){return{scrollTo:function(J){j.current.scrollTo(J)},getIndentWidth:function(){return P.current.offsetWidth}}});var V=g.useState(o),Z=G(V,2),fe=Z[0],oe=Z[1],te=g.useState(e),ce=G(te,2),B=ce[0],ne=ce[1],me=g.useState(e),re=G(me,2),ke=re[0],ae=re[1],q=g.useState([]),ie=G(q,2),X=ie[0],U=ie[1],Q=g.useState(null),ve=G(Q,2),he=ve[0],Ee=ve[1],De=g.useRef(e);De.current=e;function we(){var z=De.current;ne(z),ae(z),U([]),Ee(null),_()}Pe(function(){oe(o);var z=wr(fe,o);if(z.key!==null)if(z.add){var J=B.findIndex(function(Se){var ue=Se.key;return ue===z.key}),se=Wt(zt(B,e,z.key),S,v,b),Ne=B.slice();Ne.splice(J+1,0,jt),ae(Ne),U(se),Ee("show")}else{var Ke=e.findIndex(function(Se){var ue=Se.key;return ue===z.key}),Me=Wt(zt(e,B,z.key),S,v,b),ge=e.slice();ge.splice(Ke+1,0,jt),ae(ge),U(Me),Ee("hide")}else B!==e&&(ne(e),ae(e))},[o,e]),g.useEffect(function(){u||we()},[u]);var Te=m?ke:e,be={expandedKeys:o,selectedKeys:s,loadedKeys:r,loadingKeys:l,checkedKeys:y,halfCheckedKeys:a,dragOverNodeKey:f,dropPosition:p,keyEntities:c};return g.createElement(g.Fragment,null,R&&C&&g.createElement("span",{style:Ft,"aria-live":"assertive"},Mr(C)),g.createElement("div",null,g.createElement("input",{style:Ft,disabled:K===!1||d,tabIndex:K!==!1?N:null,onKeyDown:M,onFocus:h,onBlur:O,value:"",onChange:Dr,"aria-label":"for screen reader"})),g.createElement("div",{className:"".concat(i,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},g.createElement("div",{className:"".concat(i,"-indent")},g.createElement("div",{ref:P,className:"".concat(i,"-indent-unit")}))),g.createElement(Qt,xe({},H,{data:Te,itemKey:Vt,height:v,fullHeight:!1,virtual:S,itemHeight:b,scrollWidth:x,prefixCls:"".concat(i,"-list"),ref:j,role:"tree",onVisibleChange:function(J){J.every(function(se){return Vt(se)!==Ae})&&we()}}),function(z){var J=z.pos,se=Object.assign({},(tn(z.data),z.data)),Ne=z.title,Ke=z.key,Me=z.isStart,ge=z.isEnd,Se=Ue(Ke,J);delete se.key,delete se.children;var ue=Ve(Se,be);return g.createElement(kr,xe({},se,ue,{title:Ne,active:!!C&&Ke===C.key,pos:J,data:z.data,isStart:Me,isEnd:ge,motion:m,motionNodes:Ke===Ae?X:null,motionType:he,onMotionStart:A,onMotionEnd:we,treeNodeRequiredProps:be,onMouseMove:function(){$(null)}}))}))}),Or=10,rn=function(n){En(i,n);var t=Kn(i);function i(){var e;Ut(this,i);for(var o=arguments.length,s=new Array(o),y=0;y<o;y++)s[y]=arguments[y];return e=t.call.apply(t,[this].concat(s)),E(T(e),"destroyed",!1),E(T(e),"delayedDragEnterLogic",void 0),E(T(e),"loadingRetryTimes",{}),E(T(e),"state",{keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:Qe()}),E(T(e),"dragStartMousePosition",null),E(T(e),"dragNodeProps",null),E(T(e),"currentMouseOverDroppableNodeKey",null),E(T(e),"listRef",g.createRef()),E(T(e),"onNodeDragStart",function(r,l){var a=e.state,c=a.expandedKeys,d=a.keyEntities,u=e.props.onDragStart,f=l.eventKey;e.dragNodeProps=l,e.dragStartMousePosition={x:r.clientX,y:r.clientY};var p=Oe(c,f);e.setState({draggingNodeKey:f,dragChildrenKeys:Sr(f,d),indent:e.listRef.current.getIndentWidth()}),e.setExpandedKeys(p),window.addEventListener("dragend",e.onWindowDragEnd),u==null||u({event:r,node:ee(l)})}),E(T(e),"onNodeDragEnter",function(r,l){var a=e.state,c=a.expandedKeys,d=a.keyEntities,u=a.dragChildrenKeys,f=a.flattenNodes,p=a.indent,m=e.props,v=m.onDragEnter,b=m.onExpand,S=m.allowDrop,x=m.direction,K=l.pos,C=l.eventKey;if(e.currentMouseOverDroppableNodeKey!==C&&(e.currentMouseOverDroppableNodeKey=C),!e.dragNodeProps){e.resetDragState();return}var R=At(r,e.dragNodeProps,l,p,e.dragStartMousePosition,S,f,d,c,x),N=R.dropPosition,M=R.dropLevelOffset,h=R.dropTargetKey,O=R.dropContainerKey,$=R.dropTargetPos,A=R.dropAllowed,_=R.dragOverNodeKey;if(u.includes(h)||!A){e.resetDragState();return}if(e.delayedDragEnterLogic||(e.delayedDragEnterLogic={}),Object.keys(e.delayedDragEnterLogic).forEach(function(H){clearTimeout(e.delayedDragEnterLogic[H])}),e.dragNodeProps.eventKey!==l.eventKey&&(r.persist(),e.delayedDragEnterLogic[K]=window.setTimeout(function(){if(e.state.draggingNodeKey!==null){var H=_e(c),j=pe(d,l.eventKey);j&&(j.children||[]).length&&(H=Le(c,l.eventKey)),e.props.hasOwnProperty("expandedKeys")||e.setExpandedKeys(H),b==null||b(H,{node:ee(l),expanded:!0,nativeEvent:r.nativeEvent})}},800)),e.dragNodeProps.eventKey===h&&M===0){e.resetDragState();return}e.setState({dragOverNodeKey:_,dropPosition:N,dropLevelOffset:M,dropTargetKey:h,dropContainerKey:O,dropTargetPos:$,dropAllowed:A}),v==null||v({event:r,node:ee(l),expandedKeys:c})}),E(T(e),"onNodeDragOver",function(r,l){var a=e.state,c=a.dragChildrenKeys,d=a.flattenNodes,u=a.keyEntities,f=a.expandedKeys,p=a.indent,m=e.props,v=m.onDragOver,b=m.allowDrop,S=m.direction;if(e.dragNodeProps){var x=At(r,e.dragNodeProps,l,p,e.dragStartMousePosition,b,d,u,f,S),K=x.dropPosition,C=x.dropLevelOffset,R=x.dropTargetKey,N=x.dropContainerKey,M=x.dropTargetPos,h=x.dropAllowed,O=x.dragOverNodeKey;c.includes(R)||!h||(e.dragNodeProps.eventKey===R&&C===0?e.state.dropPosition===null&&e.state.dropLevelOffset===null&&e.state.dropTargetKey===null&&e.state.dropContainerKey===null&&e.state.dropTargetPos===null&&e.state.dropAllowed===!1&&e.state.dragOverNodeKey===null||e.resetDragState():K===e.state.dropPosition&&C===e.state.dropLevelOffset&&R===e.state.dropTargetKey&&N===e.state.dropContainerKey&&M===e.state.dropTargetPos&&h===e.state.dropAllowed&&O===e.state.dragOverNodeKey||e.setState({dropPosition:K,dropLevelOffset:C,dropTargetKey:R,dropContainerKey:N,dropTargetPos:M,dropAllowed:h,dragOverNodeKey:O}),v==null||v({event:r,node:ee(l)}))}}),E(T(e),"onNodeDragLeave",function(r,l){e.currentMouseOverDroppableNodeKey===l.eventKey&&!r.currentTarget.contains(r.relatedTarget)&&(e.resetDragState(),e.currentMouseOverDroppableNodeKey=null);var a=e.props.onDragLeave;a==null||a({event:r,node:ee(l)})}),E(T(e),"onWindowDragEnd",function(r){e.onNodeDragEnd(r,null,!0),window.removeEventListener("dragend",e.onWindowDragEnd)}),E(T(e),"onNodeDragEnd",function(r,l){var a=e.props.onDragEnd;e.setState({dragOverNodeKey:null}),e.cleanDragState(),a==null||a({event:r,node:ee(l)}),e.dragNodeProps=null,window.removeEventListener("dragend",e.onWindowDragEnd)}),E(T(e),"onNodeDrop",function(r,l){var a,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,d=e.state,u=d.dragChildrenKeys,f=d.dropPosition,p=d.dropTargetKey,m=d.dropTargetPos,v=d.dropAllowed;if(v){var b=e.props.onDrop;if(e.setState({dragOverNodeKey:null}),e.cleanDragState(),p!==null){var S=F(F({},Ve(p,e.getTreeNodeRequiredProps())),{},{active:((a=e.getActiveItem())===null||a===void 0?void 0:a.key)===p,data:pe(e.state.keyEntities,p).node}),x=u.includes(p);Ie(!x,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var K=gt(m),C={event:r,node:ee(S),dragNode:e.dragNodeProps?ee(e.dragNodeProps):null,dragNodesKeys:[e.dragNodeProps.eventKey].concat(u),dropToGap:f!==0,dropPosition:f+Number(K[K.length-1])};c||b==null||b(C),e.dragNodeProps=null}}}),E(T(e),"cleanDragState",function(){var r=e.state.draggingNodeKey;r!==null&&e.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),e.dragStartMousePosition=null,e.currentMouseOverDroppableNodeKey=null}),E(T(e),"triggerExpandActionExpand",function(r,l){var a=e.state,c=a.expandedKeys,d=a.flattenNodes,u=l.expanded,f=l.key,p=l.isLeaf;if(!(p||r.shiftKey||r.metaKey||r.ctrlKey)){var m=d.filter(function(b){return b.key===f})[0],v=ee(F(F({},Ve(f,e.getTreeNodeRequiredProps())),{},{data:m.data}));e.setExpandedKeys(u?Oe(c,f):Le(c,f)),e.onNodeExpand(r,v)}}),E(T(e),"onNodeClick",function(r,l){var a=e.props,c=a.onClick,d=a.expandAction;d==="click"&&e.triggerExpandActionExpand(r,l),c==null||c(r,l)}),E(T(e),"onNodeDoubleClick",function(r,l){var a=e.props,c=a.onDoubleClick,d=a.expandAction;d==="doubleClick"&&e.triggerExpandActionExpand(r,l),c==null||c(r,l)}),E(T(e),"onNodeSelect",function(r,l){var a=e.state.selectedKeys,c=e.state,d=c.keyEntities,u=c.fieldNames,f=e.props,p=f.onSelect,m=f.multiple,v=l.selected,b=l[u.key],S=!v;S?m?a=Le(a,b):a=[b]:a=Oe(a,b);var x=a.map(function(K){var C=pe(d,K);return C?C.node:null}).filter(Boolean);e.setUncontrolledState({selectedKeys:a}),p==null||p(a,{event:"select",selected:S,node:l,selectedNodes:x,nativeEvent:r.nativeEvent})}),E(T(e),"onNodeCheck",function(r,l,a){var c=e.state,d=c.keyEntities,u=c.checkedKeys,f=c.halfCheckedKeys,p=e.props,m=p.checkStrictly,v=p.onCheck,b=l.key,S,x={event:"check",node:l,checked:a,nativeEvent:r.nativeEvent};if(m){var K=a?Le(u,b):Oe(u,b),C=Oe(f,b);S={checked:K,halfChecked:C},x.checkedNodes=K.map(function($){return pe(d,$)}).filter(Boolean).map(function($){return $.node}),e.setUncontrolledState({checkedKeys:K})}else{var R=dt([].concat(_e(u),[b]),!0,d),N=R.checkedKeys,M=R.halfCheckedKeys;if(!a){var h=new Set(N);h.delete(b);var O=dt(Array.from(h),{halfCheckedKeys:M},d);N=O.checkedKeys,M=O.halfCheckedKeys}S=N,x.checkedNodes=[],x.checkedNodesPositions=[],x.halfCheckedKeys=M,N.forEach(function($){var A=pe(d,$);if(A){var _=A.node,H=A.pos;x.checkedNodes.push(_),x.checkedNodesPositions.push({node:_,pos:H})}}),e.setUncontrolledState({checkedKeys:N},!1,{halfCheckedKeys:M})}v==null||v(S,x)}),E(T(e),"onNodeLoad",function(r){var l,a=r.key,c=e.state.keyEntities,d=pe(c,a);if(!(d!=null&&(l=d.children)!==null&&l!==void 0&&l.length)){var u=new Promise(function(f,p){e.setState(function(m){var v=m.loadedKeys,b=v===void 0?[]:v,S=m.loadingKeys,x=S===void 0?[]:S,K=e.props,C=K.loadData,R=K.onLoad;if(!C||b.includes(a)||x.includes(a))return null;var N=C(r);return N.then(function(){var M=e.state.loadedKeys,h=Le(M,a);R==null||R(h,{event:"load",node:r}),e.setUncontrolledState({loadedKeys:h}),e.setState(function(O){return{loadingKeys:Oe(O.loadingKeys,a)}}),f()}).catch(function(M){if(e.setState(function(O){return{loadingKeys:Oe(O.loadingKeys,a)}}),e.loadingRetryTimes[a]=(e.loadingRetryTimes[a]||0)+1,e.loadingRetryTimes[a]>=Or){var h=e.state.loadedKeys;Ie(!1,"Retry for `loadData` many times but still failed. No more retry."),e.setUncontrolledState({loadedKeys:Le(h,a)}),f()}p(M)}),{loadingKeys:Le(x,a)}})});return u.catch(function(){}),u}}),E(T(e),"onNodeMouseEnter",function(r,l){var a=e.props.onMouseEnter;a==null||a({event:r,node:l})}),E(T(e),"onNodeMouseLeave",function(r,l){var a=e.props.onMouseLeave;a==null||a({event:r,node:l})}),E(T(e),"onNodeContextMenu",function(r,l){var a=e.props.onRightClick;a&&(r.preventDefault(),a({event:r,node:l}))}),E(T(e),"onFocus",function(){var r=e.props.onFocus;e.setState({focused:!0});for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];r==null||r.apply(void 0,a)}),E(T(e),"onBlur",function(){var r=e.props.onBlur;e.setState({focused:!1}),e.onActiveChange(null);for(var l=arguments.length,a=new Array(l),c=0;c<l;c++)a[c]=arguments[c];r==null||r.apply(void 0,a)}),E(T(e),"getTreeNodeRequiredProps",function(){var r=e.state,l=r.expandedKeys,a=r.selectedKeys,c=r.loadedKeys,d=r.loadingKeys,u=r.checkedKeys,f=r.halfCheckedKeys,p=r.dragOverNodeKey,m=r.dropPosition,v=r.keyEntities;return{expandedKeys:l||[],selectedKeys:a||[],loadedKeys:c||[],loadingKeys:d||[],checkedKeys:u||[],halfCheckedKeys:f||[],dragOverNodeKey:p,dropPosition:m,keyEntities:v}}),E(T(e),"setExpandedKeys",function(r){var l=e.state,a=l.treeData,c=l.fieldNames,d=st(a,r,c);e.setUncontrolledState({expandedKeys:r,flattenNodes:d},!0)}),E(T(e),"onNodeExpand",function(r,l){var a=e.state.expandedKeys,c=e.state,d=c.listChanging,u=c.fieldNames,f=e.props,p=f.onExpand,m=f.loadData,v=l.expanded,b=l[u.key];if(!d){var S=a.includes(b),x=!v;if(Ie(v&&S||!v&&!S,"Expand state not sync with index check"),a=x?Le(a,b):Oe(a,b),e.setExpandedKeys(a),p==null||p(a,{node:l,expanded:x,nativeEvent:r.nativeEvent}),x&&m){var K=e.onNodeLoad(l);K&&K.then(function(){var C=st(e.state.treeData,a,u);e.setUncontrolledState({flattenNodes:C})}).catch(function(){var C=e.state.expandedKeys,R=Oe(C,b);e.setExpandedKeys(R)})}}}),E(T(e),"onListChangeStart",function(){e.setUncontrolledState({listChanging:!0})}),E(T(e),"onListChangeEnd",function(){setTimeout(function(){e.setUncontrolledState({listChanging:!1})})}),E(T(e),"onActiveChange",function(r){var l=e.state.activeKey,a=e.props,c=a.onActiveChange,d=a.itemScrollOffset,u=d===void 0?0:d;l!==r&&(e.setState({activeKey:r}),r!==null&&e.scrollTo({key:r,offset:u}),c==null||c(r))}),E(T(e),"getActiveItem",function(){var r=e.state,l=r.activeKey,a=r.flattenNodes;return l===null?null:a.find(function(c){var d=c.key;return d===l})||null}),E(T(e),"offsetActiveKey",function(r){var l=e.state,a=l.flattenNodes,c=l.activeKey,d=a.findIndex(function(p){var m=p.key;return m===c});d===-1&&r<0&&(d=a.length),d=(d+r+a.length)%a.length;var u=a[d];if(u){var f=u.key;e.onActiveChange(f)}else e.onActiveChange(null)}),E(T(e),"onKeyDown",function(r){var l=e.state,a=l.activeKey,c=l.expandedKeys,d=l.checkedKeys,u=l.fieldNames,f=e.props,p=f.onKeyDown,m=f.checkable,v=f.selectable;switch(r.which){case ze.UP:{e.offsetActiveKey(-1),r.preventDefault();break}case ze.DOWN:{e.offsetActiveKey(1),r.preventDefault();break}}var b=e.getActiveItem();if(b&&b.data){var S=e.getTreeNodeRequiredProps(),x=b.data.isLeaf===!1||!!(b.data[u.children]||[]).length,K=ee(F(F({},Ve(a,S)),{},{data:b.data,active:!0}));switch(r.which){case ze.LEFT:{x&&c.includes(a)?e.onNodeExpand({},K):b.parent&&e.onActiveChange(b.parent.key),r.preventDefault();break}case ze.RIGHT:{x&&!c.includes(a)?e.onNodeExpand({},K):b.children&&b.children.length&&e.onActiveChange(b.children[0].key),r.preventDefault();break}case ze.ENTER:case ze.SPACE:{m&&!K.disabled&&K.checkable!==!1&&!K.disableCheckbox?e.onNodeCheck({},K,!d.includes(a)):!m&&v&&!K.disabled&&K.selectable!==!1&&e.onNodeSelect({},K);break}}}p==null||p(r)}),E(T(e),"setUncontrolledState",function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;if(!e.destroyed){var c=!1,d=!0,u={};Object.keys(r).forEach(function(f){if(e.props.hasOwnProperty(f)){d=!1;return}c=!0,u[f]=r[f]}),c&&(!l||d)&&e.setState(F(F({},u),a))}}),E(T(e),"scrollTo",function(r){e.listRef.current.scrollTo(r)}),e}return qt(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var o=this.props,s=o.activeKey,y=o.itemScrollOffset,r=y===void 0?0:y;s!==void 0&&s!==this.state.activeKey&&(this.setState({activeKey:s}),s!==null&&this.scrollTo({key:s,offset:r}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var o=this.state,s=o.focused,y=o.flattenNodes,r=o.keyEntities,l=o.draggingNodeKey,a=o.activeKey,c=o.dropLevelOffset,d=o.dropContainerKey,u=o.dropTargetKey,f=o.dropPosition,p=o.dragOverNodeKey,m=o.indent,v=this.props,b=v.prefixCls,S=v.className,x=v.style,K=v.showLine,C=v.focusable,R=v.tabIndex,N=R===void 0?0:R,M=v.selectable,h=v.showIcon,O=v.icon,$=v.switcherIcon,A=v.draggable,_=v.checkable,H=v.checkStrictly,j=v.disabled,P=v.motion,V=v.loadData,Z=v.filterTreeNode,fe=v.height,oe=v.itemHeight,te=v.scrollWidth,ce=v.virtual,B=v.titleRender,ne=v.dropIndicatorRender,me=v.onContextMenu,re=v.onScroll,ke=v.direction,ae=v.rootClassName,q=v.rootStyle,ie=Gt(this.props,{aria:!0,data:!0}),X;A&&(Fe(A)==="object"?X=A:typeof A=="function"?X={nodeDraggable:A}:X={});var U={prefixCls:b,selectable:M,showIcon:h,icon:O,switcherIcon:$,draggable:X,draggingNodeKey:l,checkable:_,checkStrictly:H,disabled:j,keyEntities:r,dropLevelOffset:c,dropContainerKey:d,dropTargetKey:u,dropPosition:f,dragOverNodeKey:p,indent:m,direction:ke,dropIndicatorRender:ne,loadData:V,filterTreeNode:Z,titleRender:B,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop};return g.createElement(ht.Provider,{value:U},g.createElement("div",{className:de(b,S,ae,E(E(E({},"".concat(b,"-show-line"),K),"".concat(b,"-focused"),s),"".concat(b,"-active-focused"),a!==null)),style:q},g.createElement($r,xe({ref:this.listRef,prefixCls:b,style:x,data:y,disabled:j,selectable:M,checkable:!!_,motion:P,dragging:l!==null,height:fe,itemHeight:oe,virtual:ce,focusable:C,focused:s,tabIndex:N,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:me,onScroll:re,scrollWidth:te},this.getTreeNodeRequiredProps(),ie))))}}],[{key:"getDerivedStateFromProps",value:function(o,s){var y=s.prevProps,r={prevProps:o};function l(N){return!y&&o.hasOwnProperty(N)||y&&y[N]!==o[N]}var a,c=s.fieldNames;if(l("fieldNames")&&(c=Qe(o.fieldNames),r.fieldNames=c),l("treeData")?a=o.treeData:l("children")&&(Ie(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),a=Zn(o.children)),a){r.treeData=a;var d=Jn(a,{fieldNames:c});r.keyEntities=F(E({},Ae,nn),d.keyEntities)}var u=r.keyEntities||s.keyEntities;if(l("expandedKeys")||y&&l("autoExpandParent"))r.expandedKeys=o.autoExpandParent||!y&&o.defaultExpandParent?Bt(o.expandedKeys,u):o.expandedKeys;else if(!y&&o.defaultExpandAll){var f=F({},u);delete f[Ae];var p=[];Object.keys(f).forEach(function(N){var M=f[N];M.children&&M.children.length&&p.push(M.key)}),r.expandedKeys=p}else!y&&o.defaultExpandedKeys&&(r.expandedKeys=o.autoExpandParent||o.defaultExpandParent?Bt(o.defaultExpandedKeys,u):o.defaultExpandedKeys);if(r.expandedKeys||delete r.expandedKeys,a||r.expandedKeys){var m=st(a||s.treeData,r.expandedKeys||s.expandedKeys,c);r.flattenNodes=m}if(o.selectable&&(l("selectedKeys")?r.selectedKeys=Ht(o.selectedKeys,o):!y&&o.defaultSelectedKeys&&(r.selectedKeys=Ht(o.defaultSelectedKeys,o))),o.checkable){var v;if(l("checkedKeys")?v=ct(o.checkedKeys)||{}:!y&&o.defaultCheckedKeys?v=ct(o.defaultCheckedKeys)||{}:a&&(v=ct(o.checkedKeys)||{checkedKeys:s.checkedKeys,halfCheckedKeys:s.halfCheckedKeys}),v){var b=v,S=b.checkedKeys,x=S===void 0?[]:S,K=b.halfCheckedKeys,C=K===void 0?[]:K;if(!o.checkStrictly){var R=dt(x,!0,u);x=R.checkedKeys,C=R.halfCheckedKeys}r.checkedKeys=x,r.halfCheckedKeys=C}}return l("loadedKeys")&&(r.loadedKeys=o.loadedKeys),r}}]),i}(g.Component);E(rn,"defaultProps",{prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:Kr,allowDrop:function(){return!0},expandAction:!1});E(rn,"TreeNode",Je);const Pr=n=>{let{treeCls:t,treeNodeCls:i,directoryNodeSelectedBg:e,directoryNodeSelectedColor:o,motionDurationMid:s,borderRadius:y,controlItemBgHover:r}=n;return{[`${t}${t}-directory ${i}`]:{[`${t}-node-content-wrapper`]:{position:"static",[`> *:not(${t}-drop-indicator)`]:{position:"relative"},"&:hover":{background:"transparent"},"&:before":{position:"absolute",inset:0,transition:`background-color ${s}`,content:'""',borderRadius:y},"&:hover:before":{background:r}},[`${t}-switcher, ${t}-checkbox, ${t}-draggable-icon`]:{zIndex:1},"&-selected":{[`${t}-switcher, ${t}-draggable-icon`]:{color:o},[`${t}-node-content-wrapper`]:{color:o,background:"transparent","&:before, &:hover:before":{background:e}}}}}},Tr=new Rn("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Lr=(n,t)=>({[`.${n}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Ir=(n,t)=>({[`.${n}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${ut(t.lineWidthBold)} solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),_r=(n,t)=>{const{treeCls:i,treeNodeCls:e,treeNodePadding:o,titleHeight:s,indentSize:y,nodeSelectedBg:r,nodeHoverBg:l,colorTextQuaternary:a,controlItemBgActiveDisabled:c}=t;return{[i]:Object.assign(Object.assign({},wn(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,"&-rtl":{direction:"rtl"},[`&${i}-rtl ${i}-switcher_close ${i}-switcher-icon svg`]:{transform:"rotate(90deg)"},[`&-focused:not(:hover):not(${i}-active-focused)`]:Object.assign({},Dn(t)),[`${i}-list-holder-inner`]:{alignItems:"flex-start"},[`&${i}-block-node`]:{[`${i}-list-holder-inner`]:{alignItems:"stretch",[`${i}-node-content-wrapper`]:{flex:"auto"},[`${e}.dragging:after`]:{position:"absolute",inset:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:Tr,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none",borderRadius:t.borderRadius}}},[e]:{display:"flex",alignItems:"flex-start",marginBottom:o,lineHeight:ut(s),position:"relative","&:before":{content:'""',position:"absolute",zIndex:1,insetInlineStart:0,width:"100%",top:"100%",height:o},[`&-disabled ${i}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}},[`${i}-checkbox-disabled + ${i}-node-selected,&${e}-disabled${e}-selected ${i}-node-content-wrapper`]:{backgroundColor:c},[`${i}-checkbox-disabled`]:{pointerEvents:"unset"},[`&:not(${e}-disabled)`]:{[`${i}-node-content-wrapper`]:{"&:hover":{color:t.nodeHoverColor}}},[`&-active ${i}-node-content-wrapper`]:{background:t.controlItemBgHover},[`&:not(${e}-disabled).filter-node ${i}-title`]:{color:t.colorPrimary,fontWeight:500},"&-draggable":{cursor:"grab",[`${i}-draggable-icon`]:{flexShrink:0,width:s,textAlign:"center",visibility:"visible",color:a},[`&${e}-disabled ${i}-draggable-icon`]:{visibility:"hidden"}}},[`${i}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:y}},[`${i}-draggable-icon`]:{visibility:"hidden"},[`${i}-switcher, ${i}-checkbox`]:{marginInlineEnd:t.calc(t.calc(s).sub(t.controlInteractiveSize)).div(2).equal()},[`${i}-switcher`]:Object.assign(Object.assign({},Lr(n,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:s,textAlign:"center",cursor:"pointer",userSelect:"none",transition:`all ${t.motionDurationSlow}`,"&-noop":{cursor:"unset"},"&:before":{pointerEvents:"none",content:'""',width:s,height:s,position:"absolute",left:{_skip_check_:!0,value:0},top:0,borderRadius:t.borderRadius,transition:`all ${t.motionDurationSlow}`},[`&:not(${i}-switcher-noop):hover:before`]:{backgroundColor:t.colorBgTextHover},[`&_close ${i}-switcher-icon svg`]:{transform:"rotate(-90deg)"},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(s).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:t.calc(t.calc(s).div(2).equal()).mul(.8).equal(),height:t.calc(s).div(2).equal(),borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${i}-node-content-wrapper`]:Object.assign(Object.assign({position:"relative",minHeight:s,paddingBlock:0,paddingInline:t.paddingXS,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`},Ir(n,t)),{"&:hover":{backgroundColor:l},[`&${i}-node-selected`]:{color:t.nodeSelectedColor,backgroundColor:r},[`${i}-iconEle`]:{display:"inline-block",width:s,height:s,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}}),[`${i}-unselectable ${i}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${e}.drop-container > [draggable]`]:{boxShadow:`0 0 0 2px ${t.colorPrimary}`},"&-show-line":{[`${i}-indent-unit`]:{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:t.calc(s).div(2).equal(),bottom:t.calc(o).mul(-1).equal(),borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end:before":{display:"none"}},[`${i}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${e}-leaf-last ${i}-switcher-leaf-line:before`]:{top:"auto !important",bottom:"auto !important",height:`${ut(t.calc(s).div(2).equal())} !important`}})}},Ar=function(n,t){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const e=`.${n}`,o=`${e}-treenode`,s=t.calc(t.paddingXS).div(2).equal(),y=kn(t,{treeCls:e,treeNodeCls:o,treeNodePadding:s});return[_r(n,y),i&&Pr(y)].filter(Boolean)},Hr=n=>{const{controlHeightSM:t,controlItemBgHover:i,controlItemBgActive:e}=n,o=t;return{titleHeight:o,indentSize:o,nodeHoverBg:i,nodeHoverColor:n.colorText,nodeSelectedBg:e,nodeSelectedColor:n.colorText}},Br=n=>{const{colorTextLightSolid:t,colorPrimary:i}=n;return Object.assign(Object.assign({},Hr(n)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:i})},Wr=Cn("Tree",(n,t)=>{let{prefixCls:i}=t;return[{[n.componentCls]:$n(`${i}-checkbox`,n)},Ar(i,n),Nn(n)]},Br),Vr=n=>{const{prefixCls:t,switcherIcon:i,treeNodeProps:e,showLine:o,switcherLoadingIcon:s}=n,{isLeaf:y,expanded:r,loading:l}=e;if(l)return g.isValidElement(s)?s:g.createElement(Mn,{className:`${t}-switcher-loading-icon`});let a;if(o&&typeof o=="object"&&(a=o.showLeafIcon),y){if(!o)return null;if(typeof a!="boolean"&&a){const u=typeof a=="function"?a(e):a,f=`${t}-switcher-line-custom-icon`;return g.isValidElement(u)?Dt(u,{className:de(u.props.className||"",f)}):u}return a?g.createElement(sr,{className:`${t}-switcher-line-icon`}):g.createElement("span",{className:`${t}-switcher-leaf-line`})}const c=`${t}-switcher-icon`,d=typeof i=="function"?i(e):i;return g.isValidElement(d)?Dt(d,{className:de(d.props.className||"",c)}):d!==void 0?d:o?r?g.createElement(ur,{className:`${t}-switcher-line-icon`}):g.createElement(hr,{className:`${t}-switcher-line-icon`}):g.createElement(or,{className:c})};export{Qt as L,sr as R,Vr as S,rn as T,gr as U,tn as _,dt as a,Oe as b,Jn as c,Le as d,Bt as e,Qe as f,Ar as g,Zn as h,Hr as i,Je as j,Wr as u};
