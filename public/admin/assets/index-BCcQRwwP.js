import{r as a,an as Y,aL as Z,az as ee,g as j,am as A,d as te,al as D,f as T,G as z,ah as H,bj as ae,bi as ne,bm as le,b2 as q,cA as se,cB as re,ap as ce,H as B}from"./index-CxoETvRH.js";import{u as F}from"./index-BbWS0DN_.js";var oe=["prefixCls","className","style","checked","disabled","defaultChecked","type","title","onChange"],ue=a.forwardRef(function(e,u){var o=e.prefixCls,t=o===void 0?"rc-checkbox":o,r=e.className,m=e.style,k=e.checked,p=e.disabled,P=e.defaultChecked,y=P===void 0?!1:P,i=e.type,O=i===void 0?"checkbox":i,w=e.title,c=e.onChange,S=Y(e,oe),C=a.useRef(null),d=a.useRef(null),n=Z(y,{value:k}),R=ee(n,2),V=R[0],_=R[1];a.useImperativeHandle(u,function(){return{focus:function(s){var v;(v=C.current)===null||v===void 0||v.focus(s)},blur:function(){var s;(s=C.current)===null||s===void 0||s.blur()},input:C.current,nativeElement:d.current}});var f=j(t,r,A(A({},"".concat(t,"-checked"),V),"".concat(t,"-disabled"),p)),b=function(s){p||("checked"in e||_(s.target.checked),c==null||c({target:D(D({},e),{},{type:O,checked:s.target.checked}),stopPropagation:function(){s.stopPropagation()},preventDefault:function(){s.preventDefault()},nativeEvent:s.nativeEvent}))};return a.createElement("span",{className:f,title:w,style:m,ref:d},a.createElement("input",te({},S,{className:"".concat(t,"-input"),ref:C,onChange:b,disabled:p,checked:!!V,type:O})),a.createElement("span",{className:"".concat(t,"-inner")}))});function ie(e){const u=T.useRef(null),o=()=>{z.cancel(u.current),u.current=null};return[()=>{o(),u.current=z(()=>{u.current=null})},m=>{u.current&&(m.stopPropagation(),o()),e==null||e(m)}]}const W=T.createContext(null);var de=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)u.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const fe=(e,u)=>{var o;const{prefixCls:t,className:r,rootClassName:m,children:k,indeterminate:p=!1,style:P,onMouseEnter:y,onMouseLeave:i,skipGroup:O=!1,disabled:w}=e,c=de(e,["prefixCls","className","rootClassName","children","indeterminate","style","onMouseEnter","onMouseLeave","skipGroup","disabled"]),{getPrefixCls:S,direction:C,checkbox:d}=a.useContext(H),n=a.useContext(W),{isFormItemInput:R}=a.useContext(ae),V=a.useContext(ne),_=(o=(n==null?void 0:n.disabled)||w)!==null&&o!==void 0?o:V,f=a.useRef(c.value),b=a.useRef(null),E=le(u,b);a.useEffect(()=>{n==null||n.registerValue(c.value)},[]),a.useEffect(()=>{if(!O)return c.value!==f.current&&(n==null||n.cancelValue(f.current),n==null||n.registerValue(c.value),f.current=c.value),()=>n==null?void 0:n.cancelValue(c.value)},[c.value]),a.useEffect(()=>{var N;!((N=b.current)===null||N===void 0)&&N.input&&(b.current.input.indeterminate=p)},[p]);const s=S("checkbox",t),v=q(s),[I,$,L]=F(s,v),h=Object.assign({},c);n&&!O&&(h.onChange=function(){c.onChange&&c.onChange.apply(c,arguments),n.toggleOption&&n.toggleOption({label:k,value:c.value})},h.name=n.name,h.checked=n.value.includes(c.value));const G=j(`${s}-wrapper`,{[`${s}-rtl`]:C==="rtl",[`${s}-wrapper-checked`]:h.checked,[`${s}-wrapper-disabled`]:_,[`${s}-wrapper-in-form-item`]:R},d==null?void 0:d.className,r,m,L,v,$),l=j({[`${s}-indeterminate`]:p},se,$),[g,x]=ie(h.onClick);return I(a.createElement(re,{component:"Checkbox",disabled:_},a.createElement("label",{className:G,style:Object.assign(Object.assign({},d==null?void 0:d.style),P),onMouseEnter:y,onMouseLeave:i,onClick:g},a.createElement(ue,Object.assign({},h,{onClick:x,prefixCls:s,className:l,disabled:_,ref:E})),k!==void 0&&a.createElement("span",{className:`${s}-label`},k))))},K=a.forwardRef(fe);var ve=function(e,u){var o={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&u.indexOf(t)<0&&(o[t]=e[t]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,t=Object.getOwnPropertySymbols(e);r<t.length;r++)u.indexOf(t[r])<0&&Object.prototype.propertyIsEnumerable.call(e,t[r])&&(o[t[r]]=e[t[r]]);return o};const pe=a.forwardRef((e,u)=>{const{defaultValue:o,children:t,options:r=[],prefixCls:m,className:k,rootClassName:p,style:P,onChange:y}=e,i=ve(e,["defaultValue","children","options","prefixCls","className","rootClassName","style","onChange"]),{getPrefixCls:O,direction:w}=a.useContext(H),[c,S]=a.useState(i.value||o||[]),[C,d]=a.useState([]);a.useEffect(()=>{"value"in i&&S(i.value||[])},[i.value]);const n=a.useMemo(()=>r.map(l=>typeof l=="string"||typeof l=="number"?{label:l,value:l}:l),[r]),R=l=>{d(g=>g.filter(x=>x!==l))},V=l=>{d(g=>[].concat(B(g),[l]))},_=l=>{const g=c.indexOf(l.value),x=B(c);g===-1?x.push(l.value):x.splice(g,1),"value"in i||S(x),y==null||y(x.filter(N=>C.includes(N)).sort((N,J)=>{const Q=n.findIndex(M=>M.value===N),U=n.findIndex(M=>M.value===J);return Q-U}))},f=O("checkbox",m),b=`${f}-group`,E=q(f),[s,v,I]=F(f,E),$=ce(i,["value","disabled"]),L=r.length?n.map(l=>a.createElement(K,{prefixCls:f,key:l.value.toString(),disabled:"disabled"in l?l.disabled:i.disabled,value:l.value,checked:c.includes(l.value),onChange:l.onChange,className:`${b}-item`,style:l.style,title:l.title,id:l.id,required:l.required},l.label)):t,h={toggleOption:_,value:c,disabled:i.disabled,name:i.name,registerValue:V,cancelValue:R},G=j(b,{[`${b}-rtl`]:w==="rtl"},k,p,I,E,v);return s(a.createElement("div",Object.assign({className:G,style:P},$,{ref:u}),a.createElement(W.Provider,{value:h},L)))}),X=K;X.Group=pe;X.__ANT_CHECKBOX=!0;export{X as C,ue as a,ie as u};
