const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C4v_FCMy.js","assets/index-BTXTJVKt.js","assets/index-4ObyrmBg.css","assets/adminRole-D6k6nrr0.js","assets/PlusOutlined-DhDAnJdR.js","assets/index-1Ew_B_KM.js","assets/BaseForm-Bt-x2uS5.js","assets/index-DwWsiyHK.js","assets/index-DWyRM-jO.js","assets/CopyOutlined-Bqo58qRo.js","assets/DeleteOutlined-sMe1csST.js","assets/row-DJNm5-9Y.js","assets/useBreakpoint-C9P5ZgXD.js","assets/index-CsweGtVO.js","assets/index-JJDTxIwy.js","assets/PurePanel-BJ0dSvru.js","assets/index-Dk18_rVN.js","assets/index-D-p7cdnz.js","assets/role-DPwIN_0f.js","assets/adminMenu-Hr-Zrko8.js","assets/index-CcMUfAok.js","assets/index-B1B7dhZb.js","assets/gapSize-U1swVQyS.js","assets/index-DZ2tAw4A.js","assets/getAllowClear-SV9Asyat.js","assets/Input-CJszbmX7.js","assets/TextArea-Dm9DBQS4.js","assets/index-B9ywFgu1.js","assets/iconUtil-0otcsGdb.js","assets/index-D1w3VCkm.js","assets/HolderOutlined-DO80hp-F.js"])))=>i.map(i=>d[i]);
import{A as R,r as i,j as t,L as s,B as m,a,_ as p}from"./index-BTXTJVKt.js";import{a as x}from"./adminRole-D6k6nrr0.js";import{P as y}from"./Table-CUXyCVLs.js";import{B as _}from"./index-Cpu1JcVa.js";import{P as I}from"./index-Dnt0D-Vv.js";import{P as b}from"./index-C1Zz-ieJ.js";import"./ProCard-BTx7yLUQ.js";import"./index-Ck2b4VHc.js";import"./index-DwWsiyHK.js";import"./index-DWyRM-jO.js";import"./useBreakpoint-C9P5ZgXD.js";import"./row-DJNm5-9Y.js";import"./index-CHGWkdWj.js";import"./EllipsisOutlined-BzWcE7tF.js";import"./Overflow-DodMVMUF.js";import"./PlusOutlined-DhDAnJdR.js";import"./Dropdown-D-FCcTPI.js";import"./index-DWwHrh8G.js";import"./index-D_n6I86r.js";import"./BaseForm-Bt-x2uS5.js";import"./CopyOutlined-Bqo58qRo.js";import"./DeleteOutlined-sMe1csST.js";import"./index-CsweGtVO.js";import"./index-B1B7dhZb.js";import"./gapSize-U1swVQyS.js";import"./index-BaexhYUL.js";import"./DownOutlined-dHMiLU6h.js";import"./index-CBjIPB84.js";import"./index-ZV6Sdybn.js";import"./Table-ButWyQXY.js";import"./styleChecker-xca8e-q0.js";import"./addEventListener-BQxGY-6f.js";import"./iconUtil-0otcsGdb.js";import"./index-D1w3VCkm.js";import"./PurePanel-BJ0dSvru.js";import"./getAllowClear-SV9Asyat.js";import"./move-BiL2XrK1.js";import"./CheckOutlined-CRheHqkM.js";import"./Input-CJszbmX7.js";import"./index-Ci-Y97rG.js";import"./index-Clo_9DB7.js";import"./dropdown-ozNz9IXP.js";import"./LeftOutlined-CNJksXTb.js";import"./index-D2NRD51k.js";import"./Sider-clMwekzu.js";import"./index-B9ywFgu1.js";import"./HolderOutlined-DO80hp-F.js";import"./CaretDownOutlined-BWLnnrSk.js";import"./index-DiR_3Q38.js";import"./index-hKAX5Tgp.js";import"./index-lhHkabfZ.js";import"./index-CcMUfAok.js";import"./index-1Ew_B_KM.js";import"./index-JJDTxIwy.js";import"./progress-C-smal5r.js";import"./index-Wn9_u9d6.js";import"./index-DZ2tAw4A.js";import"./TextArea-Dm9DBQS4.js";import"./index-Dx9hPCiE.js";import"./EditOutlined-Jb-cOsu8.js";import"./index-BfhOKpHw.js";import"./index-D5nMW6Hn.js";const P=i.lazy(()=>p(()=>import("./index-C4v_FCMy.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),k=i.lazy(()=>p(()=>import("./index-Dk18_rVN.js"),__vite__mapDeps([16,1,2,3,17,5,6,7,8,9,10,11,12,4,13,14,15]))),z=i.lazy(()=>p(()=>import("./role-DPwIN_0f.js"),__vite__mapDeps([18,1,2,19,3,17,20,21,22,23,24,25,26,8,27,28,29,30]))),Bt=()=>{const{message:l}=R.useApp(),n=i.useRef(),[f,d]=i.useState(0),[h,c]=i.useState(0),g=e=>{x.delete({id:e}).then(r=>{r.code===1?(l.success(r.message),o()):l.error(r.message)})},o=()=>{n.current.reload()},j=[{title:"角色名称",dataIndex:"title"},{title:"管理员数量",dataIndex:"admin_user_count",render:e=>t.jsx(_,{text:e,status:"success"}),search:!1},{title:"权限数量",dataIndex:"admin_role_menu_count",render:e=>t.jsx(_,{text:e,status:"processing"}),search:!1},{title:"添加时间",dataIndex:"create_time",search:!1},{title:"操作",dataIndex:"action",render:(e,r)=>t.jsxs(t.Fragment,{children:[t.jsx(m,{type:"link",size:"small",onClick:()=>{d(r.id)},disabled:a("adminRoleUpdate"),children:"修改"}),t.jsx(m,{type:"link",size:"small",onClick:()=>{c(r.id)},disabled:a("adminRoleAuth"),children:"设置权限"}),t.jsx(I,{title:"确认要删除吗？",onConfirm:()=>g(r.id),disabled:a("adminRoleDelete"),children:t.jsx(m,{type:"link",size:"small",danger:!0,disabled:a("adminRoleDelete"),children:"删除"})})]}),search:!1}];return t.jsxs(t.Fragment,{children:[t.jsx(s,{block:!1,children:t.jsx(z,{tableReload:o,roleId:h,setRoleId:c})}),t.jsx(s,{block:!1,children:t.jsx(k,{tableReload:o,updateId:f,setUpdateId:d})}),t.jsx(b,{className:"sa-page-container",ghost:!0,header:{title:"角色管理",style:{padding:"0 24px 12px"}},children:t.jsx(y,{actionRef:n,rowKey:"id",columns:j,scroll:{x:600},options:{fullScreen:!0},columnsState:{persistenceKey:"table_column_adminRole",persistenceType:"localStorage"},headerTitle:t.jsx(s,{block:!1,children:t.jsx(P,{tableReload:o})}),pagination:{defaultPageSize:10,size:"default",showQuickJumper:!0,showSizeChanger:!0,responsive:!0},request:async(e={},r,A)=>{const u=await x.getList({...e,page:e.current});return{data:u.data.data,success:!0,total:u.data.total}}})})]})};export{Bt as default};
