const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CXoSCDjX.js","assets/index-CxoETvRH.js","assets/index-4ObyrmBg.css","assets/PlusOutlined-vk23tUE5.js","assets/index-B6rUILzb.js","assets/BaseForm-Ce_dWbWI.js","assets/index-DPelJOqh.js","assets/index-C-0gitmI.js","assets/CopyOutlined-DoMFKUVx.js","assets/DeleteOutlined-CBiNWy3g.js","assets/row-qzGwq4Dr.js","assets/useBreakpoint-9N_aLd03.js","assets/index-C_bV-DnG.js","assets/index-BOtvnYjU.js","assets/PurePanel-Qn0-6z3A.js","assets/index-DkORkMgz.js","assets/index-LJrl3qH-.js"])))=>i.map(i=>d[i]);
import{A as b,r as s,j as e,L as c,b as p,c as j,a as o,B as u,_ as f}from"./index-CxoETvRH.js";import{a as I}from"./adminRole-BxtV1BTs.js";import{P}from"./Table-MBA0ODj2.js";import{A as y}from"./index-BZDhPRiF.js";import{S as v}from"./index-r-JVz4Yx.js";import{P as C}from"./index-0Umo49A8.js";import{P as S}from"./index-CKDIzB68.js";import"./ProCard-D6QkQ_g5.js";import"./index-JNVvr94D.js";import"./index-DPelJOqh.js";import"./index-C-0gitmI.js";import"./useBreakpoint-9N_aLd03.js";import"./row-qzGwq4Dr.js";import"./index-CVyj0YhM.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Overflow-C1Gv4RUW.js";import"./PlusOutlined-vk23tUE5.js";import"./Dropdown-B_0_MLsu.js";import"./index-CVCROCWL.js";import"./index-BV5Zm_mO.js";import"./BaseForm-Ce_dWbWI.js";import"./CopyOutlined-DoMFKUVx.js";import"./DeleteOutlined-CBiNWy3g.js";import"./index-C_bV-DnG.js";import"./index-BphrQzO9.js";import"./gapSize-U1swVQyS.js";import"./index-CvzSf1Bg.js";import"./DownOutlined-CKTuMrT9.js";import"./index-Bcl-gWmM.js";import"./index-EKub9ikS.js";import"./index-DsYJmDxZ.js";import"./addEventListener-DSaIWks1.js";import"./iconUtil-CrL5XMUw.js";import"./index-BbWS0DN_.js";import"./PurePanel-Qn0-6z3A.js";import"./getAllowClear-61dfOySQ.js";import"./move-BEwii-fV.js";import"./CheckOutlined-DNlRZmOM.js";import"./Input-DBs5aIW3.js";import"./index-BCcQRwwP.js";import"./index-4oTavk15.js";import"./TextArea-B06lod9y.js";import"./LeftOutlined-CXR1ue2q.js";import"./index-BiKlR4w8.js";import"./progress-Ofxp_QxA.js";import"./Table-dye4hUJ0.js";import"./styleChecker-BWYb9pEX.js";import"./index-D0fE36s2.js";import"./dropdown-0heBmOdg.js";import"./index-27J4tOGW.js";import"./Sider-DIX9tLFZ.js";import"./index-DRn2fARs.js";import"./HolderOutlined-c3sLJRZN.js";import"./CaretDownOutlined-Cm7GLJFD.js";import"./index-CHnZ-yQ1.js";import"./index-lKg4xbVK.js";import"./index-lhHkabfZ.js";import"./index-Dx6Z95tT.js";import"./index-B6rUILzb.js";import"./index-BOtvnYjU.js";import"./index-DdonXCdW.js";import"./EditOutlined-DSBmrQxq.js";const k=s.lazy(()=>f(()=>import("./index-CXoSCDjX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),A=s.lazy(()=>f(()=>import("./index-DkORkMgz.js"),__vite__mapDeps([15,1,2,16,4,5,6,7,8,9,10,11,3,12,13,14]))),qt=()=>{const{message:a}=b.useApp(),l=s.useRef(),[x,n]=s.useState(0),h=(r,t)=>{p.updateStatus({id:r,status:t}).then(i=>{i.code===1?(a.success(i.message),l.current.reload()):a.error(i.message)})},g=r=>{p.delete({id:r}).then(t=>{t.code===1?(a.success(t.message),m()):a.error(t.message)})},m=()=>{l.current.reload()},_=[{title:"头像",dataIndex:"img",render:(r,t)=>{var i;return e.jsx(y,{src:`${j.url}${t.img}`,children:(i=t.name)==null?void 0:i.substr(0,1)})},search:!1},{title:"姓名",dataIndex:"name"},{title:"联系电话",dataIndex:"tel"},{title:"角色",dataIndex:"admin_role_id",valueType:"select",request:async()=>(await I.getList({isPage:"no"})).data,fieldProps:{fieldNames:{label:"title",value:"id"}}},{title:"登录帐号",dataIndex:"username"},{title:"状态",dataIndex:"status",tooltip:"点击可切换状态",formItemProps:{tooltip:""},render:(r,t)=>e.jsx(v,{checkedChildren:"正常",unCheckedChildren:"禁用",value:t.status==1,disabled:o("adminUserUpdateStatus"),onClick:()=>{h(t.id,t.status==1?2:1)}}),valueType:"select",fieldProps:{options:[{value:1,label:"正常"},{value:2,label:"禁用"}]}},{title:"上次登录时间",dataIndex:"last_time",search:!1},{title:"添加时间",dataIndex:"create_time",search:!1},{title:"操作",dataIndex:"action",render:(r,t)=>e.jsxs(e.Fragment,{children:[e.jsx(u,{type:"link",size:"small",onClick:()=>{n(t.id)},disabled:o("adminUpdate"),children:"修改"}),e.jsx(C,{title:"确认要删除吗？",onConfirm:()=>{g(t.id)},disabled:o("adminUserDelete"),children:e.jsx(u,{type:"link",size:"small",danger:!0,disabled:o("adminUserDelete"),children:"删除"})})]}),search:!1}];return e.jsxs(e.Fragment,{children:[e.jsx(c,{block:!1,children:e.jsx(A,{tableReload:m,updateId:x,setUpdateId:n})}),e.jsx(S,{className:"sa-page-container",ghost:!0,header:{title:"管理员",style:{padding:"0 24px 12px"}},children:e.jsx(P,{actionRef:l,rowKey:"id",columns:_,scroll:{x:1e3},options:{fullScreen:!0},columnsState:{persistenceKey:"table_column_adminUser",persistenceType:"localStorage"},headerTitle:e.jsx(c,{block:!1,children:e.jsx(k,{tableReload:m})}),pagination:{defaultPageSize:10,size:"default",showQuickJumper:!0,showSizeChanger:!0,responsive:!0},request:async(r={},t,i)=>{const d=await p.getList({...r,page:r.current});return{data:d.data.data,success:!0,total:d.data.total}}})})]})};export{qt as default};
