import{r as c,I as h,d as x,v,j as e,B as j,aO as d}from"./index-CxoETvRH.js";import{m as n}from"./modelConfig-DIYssBjg.js";import{P as g}from"./Table-MBA0ODj2.js";import{R as w}from"./PlusOutlined-vk23tUE5.js";import{S as p}from"./index-BphrQzO9.js";import{R as I}from"./index-DsYJmDxZ.js";import{T as C}from"./index-Bx08vOBg.js";import{S as y}from"./index-r-JVz4Yx.js";import{P as S}from"./index-0Umo49A8.js";import{P as R}from"./index-CKDIzB68.js";import"./ProCard-D6QkQ_g5.js";import"./index-JNVvr94D.js";import"./index-DPelJOqh.js";import"./index-C-0gitmI.js";import"./useBreakpoint-9N_aLd03.js";import"./row-qzGwq4Dr.js";import"./index-CVyj0YhM.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Overflow-C1Gv4RUW.js";import"./Dropdown-B_0_MLsu.js";import"./index-CVCROCWL.js";import"./index-BV5Zm_mO.js";import"./BaseForm-Ce_dWbWI.js";import"./CopyOutlined-DoMFKUVx.js";import"./DeleteOutlined-CBiNWy3g.js";import"./index-C_bV-DnG.js";import"./index-CvzSf1Bg.js";import"./DownOutlined-CKTuMrT9.js";import"./index-Bcl-gWmM.js";import"./index-EKub9ikS.js";import"./Table-dye4hUJ0.js";import"./styleChecker-BWYb9pEX.js";import"./addEventListener-DSaIWks1.js";import"./iconUtil-CrL5XMUw.js";import"./index-BbWS0DN_.js";import"./PurePanel-Qn0-6z3A.js";import"./getAllowClear-61dfOySQ.js";import"./move-BEwii-fV.js";import"./CheckOutlined-DNlRZmOM.js";import"./Input-DBs5aIW3.js";import"./index-BCcQRwwP.js";import"./index-D0fE36s2.js";import"./dropdown-0heBmOdg.js";import"./LeftOutlined-CXR1ue2q.js";import"./index-27J4tOGW.js";import"./Sider-DIX9tLFZ.js";import"./index-DRn2fARs.js";import"./HolderOutlined-c3sLJRZN.js";import"./CaretDownOutlined-Cm7GLJFD.js";import"./index-CHnZ-yQ1.js";import"./index-lKg4xbVK.js";import"./index-lhHkabfZ.js";import"./index-Dx6Z95tT.js";import"./index-B6rUILzb.js";import"./index-BOtvnYjU.js";import"./progress-Ofxp_QxA.js";import"./index-BiKlR4w8.js";import"./index-4oTavk15.js";import"./TextArea-B06lod9y.js";import"./index-DdonXCdW.js";import"./EditOutlined-DSBmrQxq.js";import"./gapSize-U1swVQyS.js";import"./index-BZDhPRiF.js";var _={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3zM664.8 561.6l36.1 210.3L512 672.7 323.1 772l36.1-210.3-152.8-149L417.6 382 512 190.7 606.4 382l211.2 30.7-152.8 148.9z"}}]},name:"star",theme:"outlined"},k=function(s,m){return c.createElement(h,x({},s,{ref:m,icon:_}))},P=c.forwardRef(k);const Mt=()=>{const o=c.useRef(),s=v(),m=async i=>{var r;(await n.setDefault({id:i})).code===1&&(d.success("设置成功"),(r=o.current)==null||r.reload())},l=async i=>{var r;(await n.delete({id:i})).code===1&&(d.success("删除成功"),(r=o.current)==null||r.reload())},u=async(i,t)=>{var a;(await n.updateStatus({id:i,is_active:t?1:0})).code===1&&(d.success("状态已更新"),(a=o.current)==null||a.reload())},f=[{title:"模型标识",dataIndex:"key",width:140,render:(i,t)=>e.jsxs(p,{children:[t.is_default===1&&e.jsx(I,{style:{color:"#faad14"}}),e.jsx("code",{children:i})]})},{title:"名称",dataIndex:"name",width:150},{title:"版本",dataIndex:"version",width:80,render:i=>e.jsxs(C,{color:"blue",children:["v",i||"?"]})},{title:"服务商",dataIndex:"provider",width:100,valueEnum:{volcengine:{text:"火山引擎",status:"Processing"},other:{text:"其他",status:"Default"}}},{title:"描述",dataIndex:"description",ellipsis:!0},{title:"状态",dataIndex:"is_active",width:80,render:(i,t)=>e.jsx(y,{checked:t.is_active===1,onChange:r=>u(t.id,r),checkedChildren:"启用",unCheckedChildren:"停用"})},{title:"排序",dataIndex:"sort",width:70,hideInSearch:!0},{title:"操作",valueType:"option",width:200,render:(i,t)=>e.jsxs(p,{children:[t.is_default!==1&&e.jsxs("a",{onClick:()=>m(t.id),children:[e.jsx(P,{})," 设为默认"]}),e.jsx("a",{onClick:()=>s(`/system/modelConfig/update/${t.id}`),children:"修改"}),e.jsx(S,{title:"确定删除此模型配置？",onConfirm:()=>l(t.id),children:e.jsx("a",{style:{color:"#ff4d4f"},children:"删除"})})]})}];return e.jsx(R,{title:"AI模型配置",subTitle:"管理Seedream等AI生成模型，可设置默认模型和参数",children:e.jsx(g,{actionRef:o,columns:f,rowKey:"id",request:async i=>{var r,a;const t=await n.getList(i);return{data:((r=t.data)==null?void 0:r.data)||[],total:((a=t.data)==null?void 0:a.total)||0,success:t.code===1}},search:!1,toolBarRender:()=>[e.jsx(j,{type:"primary",icon:e.jsx(w,{}),onClick:()=>s("/system/modelConfig/create"),children:"添加模型"},"add")]})})};export{Mt as default};
