import{r as m,I as L,d as H,ay as O,d7 as _,d6 as V,j as F}from"./index-CxoETvRH.js";import{T}from"./index-C-0gitmI.js";var $={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M342 88H120c-17.7 0-32 14.3-32 32v224c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V168h174c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zm578 576h-48c-8.8 0-16 7.2-16 16v176H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h222c17.7 0 32-14.3 32-32V680c0-8.8-7.2-16-16-16zM342 856H168V680c0-8.8-7.2-16-16-16h-48c-8.8 0-16 7.2-16 16v224c0 17.7 14.3 32 32 32h222c8.8 0 16-7.2 16-16v-48c0-8.8-7.2-16-16-16zM904 88H682c-8.8 0-16 7.2-16 16v48c0 8.8 7.2 16 16 16h174v176c0 8.8 7.2 16 16 16h48c8.8 0 16-7.2 16-16V120c0-17.7-14.3-32-32-32z"}}]},name:"expand",theme:"outlined"},A=function(l,t){return m.createElement(L,H({},l,{ref:t,icon:$}))},D=m.forwardRef(A),G=function(n){return typeof n=="function"},J=function(n){return typeof n=="boolean"};function b(n){var l=m.useRef(n);l.current=m.useMemo(function(){return n},[n]);var t=m.useRef();return t.current||(t.current=function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return l.current.apply(this,s)}),t.current}var K=!!(typeof window<"u"&&window.document&&window.document.createElement);function g(n,l){if(K){if(!n)return l;var t;return G(n)?t=n():"current"in n?t=n.current:t=n,t}}var x={exports:{}};/*!
* screenfull
* v5.2.0 - 2021-11-03
* (c) Sindre Sorhus; MIT License
*/var N;function Q(){return N||(N=1,function(n){(function(){var l=typeof window<"u"&&typeof window.document<"u"?window.document:{},t=n.exports,s=function(){for(var e,i=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,u=i.length,v={};r<u;r++)if(e=i[r],e&&e[1]in l){for(r=0;r<e.length;r++)v[i[0][r]]=e[r];return v}return!1}(),d={change:s.fullscreenchange,error:s.fullscreenerror},h={request:function(e,i){return new Promise((function(r,u){var v=(function(){this.off("change",v),r()}).bind(this);this.on("change",v),e=e||l.documentElement;var E=e[s.requestFullscreen](i);E instanceof Promise&&E.then(v).catch(u)}).bind(this))},exit:function(){return new Promise((function(e,i){if(!this.isFullscreen){e();return}var r=(function(){this.off("change",r),e()}).bind(this);this.on("change",r);var u=l[s.exitFullscreen]();u instanceof Promise&&u.then(r).catch(i)}).bind(this))},toggle:function(e,i){return this.isFullscreen?this.exit():this.request(e,i)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,i){var r=d[e];r&&l.addEventListener(r,i,!1)},off:function(e,i){var r=d[e];r&&l.removeEventListener(r,i,!1)},raw:s};if(!s){t?n.exports={isEnabled:!1}:window.screenfull={isEnabled:!1};return}Object.defineProperties(h,{isFullscreen:{get:function(){return!!l[s.fullscreenElement]}},element:{enumerable:!0,get:function(){return l[s.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return!!l[s.fullscreenEnabled]}}}),t?n.exports=h:window.screenfull=h})()}(x)),x.exports}var U=Q();const o=O(U);var W=function(n,l){var t={},s=t.onExit,d=t.onEnter,h=t.pageFullscreen,e=h===void 0?!1:h,i=J(e)||!e?{}:e,r=i.className,u=r===void 0?"ahooks-page-fullscreen":r,v=i.zIndex,E=v===void 0?999999:v,w=_(s),S=_(d),k=V(m.useState(p),2),z=k[0],P=k[1],R=m.useRef(p());function p(){return o.isEnabled&&!!o.element&&o.element===g(n)}var I=function(c){var f,a;c?(f=S.current)===null||f===void 0||f.call(S):(a=w.current)===null||a===void 0||a.call(w)},y=function(c){R.current!==c&&(I(c),P(c),R.current=c)},C=function(){var c=p();y(c)},q=function(c){var f=g(n);if(f){var a=document.getElementById(u);c?(f.classList.add(u),a||(a=document.createElement("style"),a.setAttribute("id",u),a.textContent=`
          .`.concat(u,` {
            position: fixed; left: 0; top: 0; right: 0; bottom: 0;
            width: 100% !important; height: 100% !important;
            z-index: `).concat(E,`;
          }`),f.appendChild(a))):(f.classList.remove(u),a&&a.remove()),y(c)}},j=function(){var c=g(n);if(c){if(e){q(!0);return}if(o.isEnabled)try{o.request(c)}catch(f){console.error(f)}}},M=function(){var c=g(n);if(c){if(e){q(!1);return}o.isEnabled&&o.element===c&&o.exit()}},B=function(){z?M():j()};return m.useEffect(function(){if(!(!o.isEnabled||e))return o.on("change",C),function(){o.off("change",C)}},[]),[z,{enterFullscreen:b(j),exitFullscreen:b(M),toggleFullscreen:b(B),isEnabled:o.isEnabled}]};const Z=({placement:n="top"})=>{const[l,{toggleFullscreen:t}]=W(document.body);return F.jsx("div",{className:"item",children:F.jsx(T,{title:"全屏，可按`F11`",placement:n,children:F.jsx("span",{className:"circle",onClick:t,children:F.jsx(D,{className:"icon"})})})})};export{Z as default};
