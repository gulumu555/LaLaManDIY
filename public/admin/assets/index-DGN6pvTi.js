import{R as m,z as f,E as j,r as l,A as y,v,c as r,j as e,B as k,b,da as A,d5 as I}from"./index-CxoETvRH.js";import{C as N}from"./index-BLklr69N.js";import{T as R}from"./index-DdonXCdW.js";import{F as t}from"./index-C_bV-DnG.js";import{I as c}from"./index-4oTavk15.js";import{R as C}from"./UserOutlined-gTG9T6Ui.js";import{R as F}from"./LockOutlined-wOc0j64g.js";import{F as T}from"./index-DZIFP8d9.js";import{C as _}from"./index-BCcQRwwP.js";import"./index-CVyj0YhM.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Overflow-C1Gv4RUW.js";import"./index-C-0gitmI.js";import"./PlusOutlined-vk23tUE5.js";import"./Dropdown-B_0_MLsu.js";import"./getAllowClear-61dfOySQ.js";import"./EditOutlined-DSBmrQxq.js";import"./styleChecker-BWYb9pEX.js";import"./TextArea-B06lod9y.js";import"./CheckOutlined-DNlRZmOM.js";import"./CopyOutlined-DoMFKUVx.js";import"./row-qzGwq4Dr.js";import"./useBreakpoint-9N_aLd03.js";import"./Input-DBs5aIW3.js";import"./gapSize-U1swVQyS.js";import"./index-BbWS0DN_.js";const{Title:U}=R,oe=()=>{const[S,d]=m(f),[w,p]=m(j),[g,a]=l.useState(!1),{message:o}=y.useApp(),x=v(),[n,h]=l.useState(!1);document.title=`${r.projectName}-登录`;const u=i=>{a(!0),b.login(i).then(s=>{a(!1),s.code!==1&&o.error(s.message),s.code===1&&(o.success(s.message),A(s.data,d,p),n===!0?I.set("adminUserToken",s.data.token):sessionStorage.setItem("adminUserToken",s.data.token),x("/index"))}).catch(s=>{a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"login-logo",children:e.jsx("div",{className:"m"})}),e.jsxs("div",{className:"login",children:[e.jsx("div",{className:"login-l"}),e.jsx("div",{className:"login-r",children:e.jsxs(N,{className:"card-form",variant:"outlined",children:[e.jsx(U,{level:4,style:{textAlign:"center",marginBottom:"50px",marginTop:"20px"},children:r.projectName}),e.jsxs(t,{name:"login_form",onFinish:u,children:[e.jsx(t.Item,{name:"username",rules:[{required:!0,message:"请输入登录帐号"}],children:e.jsx(c,{prefix:e.jsx(C,{}),placeholder:"请输入登录帐号",size:"large"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"请输入登录密码"}],children:e.jsx(c,{prefix:e.jsx(F,{}),type:"password",placeholder:"请输入登录密码",size:"large"})}),e.jsx(t.Item,{children:e.jsx(T,{justify:"space-between",align:"flex-start",children:e.jsx(_,{checked:n,onChange:i=>{h(i.target.checked)},children:"保持登录状态"})})}),e.jsx(t.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:g,style:{borderRadius:"20px",backgroundColor:"black"},children:"立即登录"})})]})]})})]}),e.jsxs("div",{className:"ft",children:["Copyright © ",new Date().getFullYear()," ",r.company," 版权所有 ",e.jsx("a",{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",children:r.icp})]})]})};export{oe as default};
