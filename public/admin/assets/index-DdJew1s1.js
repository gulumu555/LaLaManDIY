const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Clr46y4o.js","assets/index-BTXTJVKt.js","assets/index-4ObyrmBg.css","assets/PlusOutlined-DhDAnJdR.js","assets/index-1Ew_B_KM.js","assets/BaseForm-Bt-x2uS5.js","assets/index-DwWsiyHK.js","assets/index-DWyRM-jO.js","assets/CopyOutlined-Bqo58qRo.js","assets/DeleteOutlined-sMe1csST.js","assets/row-DJNm5-9Y.js","assets/useBreakpoint-C9P5ZgXD.js","assets/index-CsweGtVO.js","assets/index-JJDTxIwy.js","assets/PurePanel-BJ0dSvru.js","assets/index-Czg0y7dv.js","assets/index-D-p7cdnz.js"])))=>i.map(i=>d[i]);
import{A as b,r as s,j as e,L as c,b as p,c as j,a as o,B as u,_ as f}from"./index-BTXTJVKt.js";import{a as I}from"./adminRole-D6k6nrr0.js";import{P}from"./Table-CUXyCVLs.js";import{A as y}from"./index-D5nMW6Hn.js";import{S as v}from"./index-BfhOKpHw.js";import{P as C}from"./index-Dnt0D-Vv.js";import{P as S}from"./index-C1Zz-ieJ.js";import"./ProCard-BTx7yLUQ.js";import"./index-Ck2b4VHc.js";import"./index-DwWsiyHK.js";import"./index-DWyRM-jO.js";import"./useBreakpoint-C9P5ZgXD.js";import"./row-DJNm5-9Y.js";import"./index-CHGWkdWj.js";import"./EllipsisOutlined-BzWcE7tF.js";import"./Overflow-DodMVMUF.js";import"./PlusOutlined-DhDAnJdR.js";import"./Dropdown-D-FCcTPI.js";import"./index-DWwHrh8G.js";import"./index-D_n6I86r.js";import"./BaseForm-Bt-x2uS5.js";import"./CopyOutlined-Bqo58qRo.js";import"./DeleteOutlined-sMe1csST.js";import"./index-CsweGtVO.js";import"./index-B1B7dhZb.js";import"./gapSize-U1swVQyS.js";import"./index-BaexhYUL.js";import"./DownOutlined-dHMiLU6h.js";import"./index-CBjIPB84.js";import"./index-ZV6Sdybn.js";import"./index-Cpu1JcVa.js";import"./addEventListener-BQxGY-6f.js";import"./iconUtil-0otcsGdb.js";import"./index-D1w3VCkm.js";import"./PurePanel-BJ0dSvru.js";import"./getAllowClear-SV9Asyat.js";import"./move-BiL2XrK1.js";import"./CheckOutlined-CRheHqkM.js";import"./Input-CJszbmX7.js";import"./index-Ci-Y97rG.js";import"./index-DZ2tAw4A.js";import"./TextArea-Dm9DBQS4.js";import"./LeftOutlined-CNJksXTb.js";import"./index-Wn9_u9d6.js";import"./progress-C-smal5r.js";import"./Table-ButWyQXY.js";import"./styleChecker-xca8e-q0.js";import"./index-Clo_9DB7.js";import"./dropdown-ozNz9IXP.js";import"./index-D2NRD51k.js";import"./Sider-clMwekzu.js";import"./index-B9ywFgu1.js";import"./HolderOutlined-DO80hp-F.js";import"./CaretDownOutlined-BWLnnrSk.js";import"./index-DiR_3Q38.js";import"./index-hKAX5Tgp.js";import"./index-lhHkabfZ.js";import"./index-CcMUfAok.js";import"./index-1Ew_B_KM.js";import"./index-JJDTxIwy.js";import"./index-Dx9hPCiE.js";import"./EditOutlined-Jb-cOsu8.js";const k=s.lazy(()=>f(()=>import("./index-Clr46y4o.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),A=s.lazy(()=>f(()=>import("./index-Czg0y7dv.js"),__vite__mapDeps([15,1,2,16,4,5,6,7,8,9,10,11,3,12,13,14]))),qt=()=>{const{message:a}=b.useApp(),l=s.useRef(),[x,n]=s.useState(0),h=(r,t)=>{p.updateStatus({id:r,status:t}).then(i=>{i.code===1?(a.success(i.message),l.current.reload()):a.error(i.message)})},g=r=>{p.delete({id:r}).then(t=>{t.code===1?(a.success(t.message),m()):a.error(t.message)})},m=()=>{l.current.reload()},_=[{title:"头像",dataIndex:"img",render:(r,t)=>{var i;return e.jsx(y,{src:`${j.url}${t.img}`,children:(i=t.name)==null?void 0:i.substr(0,1)})},search:!1},{title:"姓名",dataIndex:"name"},{title:"联系电话",dataIndex:"tel"},{title:"角色",dataIndex:"admin_role_id",valueType:"select",request:async()=>(await I.getList({isPage:"no"})).data,fieldProps:{fieldNames:{label:"title",value:"id"}}},{title:"登录帐号",dataIndex:"username"},{title:"状态",dataIndex:"status",tooltip:"点击可切换状态",formItemProps:{tooltip:""},render:(r,t)=>e.jsx(v,{checkedChildren:"正常",unCheckedChildren:"禁用",value:t.status==1,disabled:o("adminUserUpdateStatus"),onClick:()=>{h(t.id,t.status==1?2:1)}}),valueType:"select",fieldProps:{options:[{value:1,label:"正常"},{value:2,label:"禁用"}]}},{title:"上次登录时间",dataIndex:"last_time",search:!1},{title:"添加时间",dataIndex:"create_time",search:!1},{title:"操作",dataIndex:"action",render:(r,t)=>e.jsxs(e.Fragment,{children:[e.jsx(u,{type:"link",size:"small",onClick:()=>{n(t.id)},disabled:o("adminUpdate"),children:"修改"}),e.jsx(C,{title:"确认要删除吗？",onConfirm:()=>{g(t.id)},disabled:o("adminUserDelete"),children:e.jsx(u,{type:"link",size:"small",danger:!0,disabled:o("adminUserDelete"),children:"删除"})})]}),search:!1}];return e.jsxs(e.Fragment,{children:[e.jsx(c,{block:!1,children:e.jsx(A,{tableReload:m,updateId:x,setUpdateId:n})}),e.jsx(S,{className:"sa-page-container",ghost:!0,header:{title:"管理员",style:{padding:"0 24px 12px"}},children:e.jsx(P,{actionRef:l,rowKey:"id",columns:_,scroll:{x:1e3},options:{fullScreen:!0},columnsState:{persistenceKey:"table_column_adminUser",persistenceType:"localStorage"},headerTitle:e.jsx(c,{block:!1,children:e.jsx(k,{tableReload:m})}),pagination:{defaultPageSize:10,size:"default",showQuickJumper:!0,showSizeChanger:!0,responsive:!0},request:async(r={},t,i)=>{const d=await p.getList({...r,page:r.current});return{data:d.data.data,success:!0,total:d.data.total}}})})]})};export{qt as default};
