const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-Cr0f2oCe.js","assets/index-CxoETvRH.js","assets/index-4ObyrmBg.css","assets/adminRole-BxtV1BTs.js","assets/PlusOutlined-vk23tUE5.js","assets/index-B6rUILzb.js","assets/BaseForm-Ce_dWbWI.js","assets/index-DPelJOqh.js","assets/index-C-0gitmI.js","assets/CopyOutlined-DoMFKUVx.js","assets/DeleteOutlined-CBiNWy3g.js","assets/row-qzGwq4Dr.js","assets/useBreakpoint-9N_aLd03.js","assets/index-C_bV-DnG.js","assets/index-BOtvnYjU.js","assets/PurePanel-Qn0-6z3A.js","assets/index-vj9FXdbT.js","assets/index-LJrl3qH-.js","assets/role-yc6fpBZ5.js","assets/adminMenu-CI_NMbuZ.js","assets/index-Dx6Z95tT.js","assets/index-BphrQzO9.js","assets/gapSize-U1swVQyS.js","assets/index-4oTavk15.js","assets/getAllowClear-61dfOySQ.js","assets/Input-DBs5aIW3.js","assets/TextArea-B06lod9y.js","assets/index-DRn2fARs.js","assets/iconUtil-CrL5XMUw.js","assets/index-BbWS0DN_.js","assets/HolderOutlined-c3sLJRZN.js"])))=>i.map(i=>d[i]);
import{A as R,r as i,j as t,L as s,B as m,a,_ as p}from"./index-CxoETvRH.js";import{a as x}from"./adminRole-BxtV1BTs.js";import{P as y}from"./Table-MBA0ODj2.js";import{B as _}from"./index-DsYJmDxZ.js";import{P as I}from"./index-0Umo49A8.js";import{P as b}from"./index-CKDIzB68.js";import"./ProCard-D6QkQ_g5.js";import"./index-JNVvr94D.js";import"./index-DPelJOqh.js";import"./index-C-0gitmI.js";import"./useBreakpoint-9N_aLd03.js";import"./row-qzGwq4Dr.js";import"./index-CVyj0YhM.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Overflow-C1Gv4RUW.js";import"./PlusOutlined-vk23tUE5.js";import"./Dropdown-B_0_MLsu.js";import"./index-CVCROCWL.js";import"./index-BV5Zm_mO.js";import"./BaseForm-Ce_dWbWI.js";import"./CopyOutlined-DoMFKUVx.js";import"./DeleteOutlined-CBiNWy3g.js";import"./index-C_bV-DnG.js";import"./index-BphrQzO9.js";import"./gapSize-U1swVQyS.js";import"./index-CvzSf1Bg.js";import"./DownOutlined-CKTuMrT9.js";import"./index-Bcl-gWmM.js";import"./index-EKub9ikS.js";import"./Table-dye4hUJ0.js";import"./styleChecker-BWYb9pEX.js";import"./addEventListener-DSaIWks1.js";import"./iconUtil-CrL5XMUw.js";import"./index-BbWS0DN_.js";import"./PurePanel-Qn0-6z3A.js";import"./getAllowClear-61dfOySQ.js";import"./move-BEwii-fV.js";import"./CheckOutlined-DNlRZmOM.js";import"./Input-DBs5aIW3.js";import"./index-BCcQRwwP.js";import"./index-D0fE36s2.js";import"./dropdown-0heBmOdg.js";import"./LeftOutlined-CXR1ue2q.js";import"./index-27J4tOGW.js";import"./Sider-DIX9tLFZ.js";import"./index-DRn2fARs.js";import"./HolderOutlined-c3sLJRZN.js";import"./CaretDownOutlined-Cm7GLJFD.js";import"./index-CHnZ-yQ1.js";import"./index-lKg4xbVK.js";import"./index-lhHkabfZ.js";import"./index-Dx6Z95tT.js";import"./index-B6rUILzb.js";import"./index-BOtvnYjU.js";import"./progress-Ofxp_QxA.js";import"./index-BiKlR4w8.js";import"./index-4oTavk15.js";import"./TextArea-B06lod9y.js";import"./index-DdonXCdW.js";import"./EditOutlined-DSBmrQxq.js";import"./index-r-JVz4Yx.js";import"./index-BZDhPRiF.js";const P=i.lazy(()=>p(()=>import("./index-Cr0f2oCe.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]))),k=i.lazy(()=>p(()=>import("./index-vj9FXdbT.js"),__vite__mapDeps([16,1,2,3,17,5,6,7,8,9,10,11,12,4,13,14,15]))),z=i.lazy(()=>p(()=>import("./role-yc6fpBZ5.js"),__vite__mapDeps([18,1,2,19,3,17,20,21,22,23,24,25,26,8,27,28,29,30]))),Bt=()=>{const{message:l}=R.useApp(),n=i.useRef(),[f,d]=i.useState(0),[h,c]=i.useState(0),g=e=>{x.delete({id:e}).then(r=>{r.code===1?(l.success(r.message),o()):l.error(r.message)})},o=()=>{n.current.reload()},j=[{title:"角色名称",dataIndex:"title"},{title:"管理员数量",dataIndex:"admin_user_count",render:e=>t.jsx(_,{text:e,status:"success"}),search:!1},{title:"权限数量",dataIndex:"admin_role_menu_count",render:e=>t.jsx(_,{text:e,status:"processing"}),search:!1},{title:"添加时间",dataIndex:"create_time",search:!1},{title:"操作",dataIndex:"action",render:(e,r)=>t.jsxs(t.Fragment,{children:[t.jsx(m,{type:"link",size:"small",onClick:()=>{d(r.id)},disabled:a("adminRoleUpdate"),children:"修改"}),t.jsx(m,{type:"link",size:"small",onClick:()=>{c(r.id)},disabled:a("adminRoleAuth"),children:"设置权限"}),t.jsx(I,{title:"确认要删除吗？",onConfirm:()=>g(r.id),disabled:a("adminRoleDelete"),children:t.jsx(m,{type:"link",size:"small",danger:!0,disabled:a("adminRoleDelete"),children:"删除"})})]}),search:!1}];return t.jsxs(t.Fragment,{children:[t.jsx(s,{block:!1,children:t.jsx(z,{tableReload:o,roleId:h,setRoleId:c})}),t.jsx(s,{block:!1,children:t.jsx(k,{tableReload:o,updateId:f,setUpdateId:d})}),t.jsx(b,{className:"sa-page-container",ghost:!0,header:{title:"角色管理",style:{padding:"0 24px 12px"}},children:t.jsx(y,{actionRef:n,rowKey:"id",columns:j,scroll:{x:600},options:{fullScreen:!0},columnsState:{persistenceKey:"table_column_adminRole",persistenceType:"localStorage"},headerTitle:t.jsx(s,{block:!1,children:t.jsx(P,{tableReload:o})}),pagination:{defaultPageSize:10,size:"default",showQuickJumper:!0,showSizeChanger:!0,responsive:!0},request:async(e={},r,A)=>{const u=await x.getList({...e,page:e.current});return{data:u.data.data,success:!0,total:u.data.total}}})})]})};export{Bt as default};
