import{R as m,z as f,E as j,r as l,A as y,v,c as r,j as e,B as k,b,da as A,d5 as I}from"./index-BTXTJVKt.js";import{C as N}from"./index-CM2B2jkZ.js";import{T as R}from"./index-Dx9hPCiE.js";import{F as t}from"./index-CsweGtVO.js";import{I as c}from"./index-DZ2tAw4A.js";import{R as C}from"./UserOutlined-S7fp2Ifr.js";import{R as F}from"./LockOutlined-BzQCAXPH.js";import{F as T}from"./index-BGu4eHBl.js";import{C as _}from"./index-Ci-Y97rG.js";import"./index-CHGWkdWj.js";import"./EllipsisOutlined-BzWcE7tF.js";import"./Overflow-DodMVMUF.js";import"./index-DWyRM-jO.js";import"./PlusOutlined-DhDAnJdR.js";import"./Dropdown-D-FCcTPI.js";import"./getAllowClear-SV9Asyat.js";import"./EditOutlined-Jb-cOsu8.js";import"./styleChecker-xca8e-q0.js";import"./TextArea-Dm9DBQS4.js";import"./CheckOutlined-CRheHqkM.js";import"./CopyOutlined-Bqo58qRo.js";import"./row-DJNm5-9Y.js";import"./useBreakpoint-C9P5ZgXD.js";import"./Input-CJszbmX7.js";import"./gapSize-U1swVQyS.js";import"./index-D1w3VCkm.js";const{Title:U}=R,oe=()=>{const[S,d]=m(f),[w,p]=m(j),[g,a]=l.useState(!1),{message:o}=y.useApp(),x=v(),[n,h]=l.useState(!1);document.title=`${r.projectName}-登录`;const u=i=>{a(!0),b.login(i).then(s=>{a(!1),s.code!==1&&o.error(s.message),s.code===1&&(o.success(s.message),A(s.data,d,p),n===!0?I.set("adminUserToken",s.data.token):sessionStorage.setItem("adminUserToken",s.data.token),x("/index"))}).catch(s=>{a(!1)})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"login-logo",children:e.jsx("div",{className:"m"})}),e.jsxs("div",{className:"login",children:[e.jsx("div",{className:"login-l"}),e.jsx("div",{className:"login-r",children:e.jsxs(N,{className:"card-form",variant:"outlined",children:[e.jsx(U,{level:4,style:{textAlign:"center",marginBottom:"50px",marginTop:"20px"},children:r.projectName}),e.jsxs(t,{name:"login_form",onFinish:u,children:[e.jsx(t.Item,{name:"username",rules:[{required:!0,message:"请输入登录帐号"}],children:e.jsx(c,{prefix:e.jsx(C,{}),placeholder:"请输入登录帐号",size:"large"})}),e.jsx(t.Item,{name:"password",rules:[{required:!0,message:"请输入登录密码"}],children:e.jsx(c,{prefix:e.jsx(F,{}),type:"password",placeholder:"请输入登录密码",size:"large"})}),e.jsx(t.Item,{children:e.jsx(T,{justify:"space-between",align:"flex-start",children:e.jsx(_,{checked:n,onChange:i=>{h(i.target.checked)},children:"保持登录状态"})})}),e.jsx(t.Item,{children:e.jsx(k,{type:"primary",htmlType:"submit",size:"large",block:!0,loading:g,style:{borderRadius:"20px",backgroundColor:"black"},children:"立即登录"})})]})]})})]}),e.jsxs("div",{className:"ft",children:["Copyright © ",new Date().getFullYear()," ",r.company," 版权所有 ",e.jsx("a",{href:"https://beian.miit.gov.cn/#/Integrated/index",target:"_blank",children:r.icp})]})]})};export{oe as default};
