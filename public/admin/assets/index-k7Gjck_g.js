import{v as x,R as f,E as g,r as d,j as r}from"./index-ZI51y314.js";import{M as h}from"./index-YSn64RDr.js";import{R as y}from"./EllipsisOutlined-rOnf-sW7.js";import"./Sider-BPr4VxAy.js";import"./LeftOutlined-DLD2DGED.js";import"./index-BIgUuT9u.js";import"./Overflow-6EGZ5_au.js";const m=(o,u=null,n="children")=>{let a=[];return o.forEach(t=>{if(t.pid_name==u){let i=m(o,t.name,n);i.length>0&&(t[n]=i),t.pid_name&&(t.icon=null),a.push(t)}}),a},k=({menuMode:o="inline"})=>{const u=x(),[n,a]=f(g),[t,i]=d.useState(),c=s=>{a(e=>({...e,openKeys:s}))};d.useEffect(()=>{const s=n.menuArr.map(e=>({key:e.name,id:e.id,name:e.name,pid_name:e.pid_name,path:e.path,icon:r.jsx("span",{className:`iconfont ${e.icon}`}),label:e.title}));i(m(s))},[n.menuArr]);const l=({key:s,keyPath:e})=>{n.menuArr.some(p=>{if(p.name===s)return p.type===3?window.open(p.url,"_blank",""):(u(p.path),!0)})};return r.jsx(r.Fragment,{children:o!=="horizontal"?r.jsx(h,{style:{borderRight:"0px",background:"none",width:"100%",borderBottom:"0px",lineHeight:"55px"},mode:o,items:t,onClick:l,selectedKeys:n.activeMenuPath,openKeys:n.openKeys,onOpenChange:c}):r.jsx(h,{style:{borderRight:"0px",background:"none",width:"100%",borderBottom:"0px",lineHeight:"55px"},mode:o,items:t,onClick:l,selectedKeys:n.activeMenuPath,onOpenChange:c,overflowedIndicator:r.jsxs(r.Fragment,{children:["更多",r.jsx(y,{})]})})})};export{k as default,m as menuToTree};
