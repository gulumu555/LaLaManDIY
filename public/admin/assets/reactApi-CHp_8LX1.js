import{A as u,r as s,j as r,B as p}from"./index-CxoETvRH.js";import{a as l}from"./adminCodeGenerator-o3VPck0b.js";import{C as f}from"./index-vDDUv-ak.js";import{S as h}from"./index-BphrQzO9.js";import{R as _,C as a}from"./row-qzGwq4Dr.js";import{W as c}from"./index-B5gW4Hci.js";import{W as j}from"./index-DqNJzPla.js";import{A as g}from"./index-CKDIzB68.js";import{P as C}from"./ProCard-D6QkQ_g5.js";import{F as b}from"./index-DZIFP8d9.js";import{P as n}from"./index-BV5Zm_mO.js";import"./index-DdonXCdW.js";import"./EditOutlined-DSBmrQxq.js";import"./index-C-0gitmI.js";import"./styleChecker-BWYb9pEX.js";import"./TextArea-B06lod9y.js";import"./getAllowClear-61dfOySQ.js";import"./CheckOutlined-DNlRZmOM.js";import"./CopyOutlined-DoMFKUVx.js";import"./gapSize-U1swVQyS.js";import"./useBreakpoint-9N_aLd03.js";import"./index-DsYJmDxZ.js";import"./index-DPelJOqh.js";import"./index-CvzSf1Bg.js";import"./BaseForm-Ce_dWbWI.js";import"./DeleteOutlined-CBiNWy3g.js";import"./PlusOutlined-vk23tUE5.js";import"./index-C_bV-DnG.js";import"./DownOutlined-CKTuMrT9.js";import"./index-Bcl-gWmM.js";import"./addEventListener-DSaIWks1.js";import"./Overflow-C1Gv4RUW.js";import"./iconUtil-CrL5XMUw.js";import"./index-BbWS0DN_.js";import"./PurePanel-Qn0-6z3A.js";import"./move-BEwii-fV.js";import"./Input-DBs5aIW3.js";import"./index-BCcQRwwP.js";import"./index-4oTavk15.js";import"./LeftOutlined-CXR1ue2q.js";import"./index-BiKlR4w8.js";import"./progress-Ofxp_QxA.js";import"./index-r-JVz4Yx.js";import"./index-BZDhPRiF.js";import"./index-lhHkabfZ.js";import"./dropdown-0heBmOdg.js";import"./Dropdown-B_0_MLsu.js";import"./index-27J4tOGW.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Sider-DIX9tLFZ.js";import"./index-CVyj0YhM.js";import"./index-JNVvr94D.js";const br=({tableName:t,operationFile:d,...y})=>{const{message:m}=u.useApp(),o=s.useRef();s.useEffect(()=>{},[t]);const x=[{label:"从控制器配置生成",value:1},{label:"从控制器中反射",value:2}];return r.jsxs(r.Fragment,{children:[r.jsx(n,{formRef:o,size:"small",params:{table_name:t},request:async i=>(await l.getCodeGeneratorInfo(i)).data||{},submitter:!1,onFinish:async i=>{l.generatorCode({react_api:{...i.react_api,file_suffix:"js"},table_name:t,code_name:"react_api"}).then(e=>{e.code===1?(m.success(e.message),o.current.setFieldValue("react_api_code",e.data.react_api_code)):m.error(e.message)})},children:r.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[r.jsxs(_,{gutter:[24,0],children:[r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(c,{name:["react_api","file_name"],label:"文件名",placeholder:"请输入",rules:[{required:!0,message:"请输入"}]})}),r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(c,{name:["react_api","file_path"],label:"生成目录",placeholder:"请输入",rules:[{required:!0,message:"请输入"}]})}),r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(j.Group,{name:["react_api","generator_type"],label:"api生成来源",rules:[{required:!0,message:"请输入"}],options:x})})]}),r.jsx(n.Item,{name:"react_api_code",children:r.jsx(f,{})})]})}),r.jsx(g,{offsetBottom:10,children:r.jsx(C,{boxShadow:!0,children:r.jsxs(b,{align:"center",justify:"center",gap:"small",children:[r.jsx(p,{type:"primary",size:"default",onClick:()=>{o.current.submit()},children:"保存设置》生成预览代码"}),r.jsx(p,{danger:!0,onClick:()=>{d("react_api")},children:"生成到项目"})]})})})]})};export{br as default};
