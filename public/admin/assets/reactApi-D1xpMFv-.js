import{A as u,r as s,j as r,B as p}from"./index-BTXTJVKt.js";import{a as l}from"./adminCodeGenerator-XA6WtBhQ.js";import{C as f}from"./index-BMfK2Dip.js";import{S as h}from"./index-B1B7dhZb.js";import{R as _,C as a}from"./row-DJNm5-9Y.js";import{W as c}from"./index-BMuvgOFD.js";import{W as j}from"./index-Cia7XGO-.js";import{A as g}from"./index-C1Zz-ieJ.js";import{P as C}from"./ProCard-BTx7yLUQ.js";import{F as b}from"./index-BGu4eHBl.js";import{P as n}from"./index-D_n6I86r.js";import"./index-Dx9hPCiE.js";import"./EditOutlined-Jb-cOsu8.js";import"./index-DWyRM-jO.js";import"./styleChecker-xca8e-q0.js";import"./TextArea-Dm9DBQS4.js";import"./getAllowClear-SV9Asyat.js";import"./CheckOutlined-CRheHqkM.js";import"./CopyOutlined-Bqo58qRo.js";import"./gapSize-U1swVQyS.js";import"./useBreakpoint-C9P5ZgXD.js";import"./index-Cpu1JcVa.js";import"./index-DwWsiyHK.js";import"./index-BaexhYUL.js";import"./BaseForm-Bt-x2uS5.js";import"./DeleteOutlined-sMe1csST.js";import"./PlusOutlined-DhDAnJdR.js";import"./index-CsweGtVO.js";import"./DownOutlined-dHMiLU6h.js";import"./index-CBjIPB84.js";import"./addEventListener-BQxGY-6f.js";import"./Overflow-DodMVMUF.js";import"./iconUtil-0otcsGdb.js";import"./index-D1w3VCkm.js";import"./PurePanel-BJ0dSvru.js";import"./move-BiL2XrK1.js";import"./Input-CJszbmX7.js";import"./index-Ci-Y97rG.js";import"./index-DZ2tAw4A.js";import"./LeftOutlined-CNJksXTb.js";import"./index-Wn9_u9d6.js";import"./progress-C-smal5r.js";import"./index-BfhOKpHw.js";import"./index-D5nMW6Hn.js";import"./index-lhHkabfZ.js";import"./dropdown-ozNz9IXP.js";import"./Dropdown-D-FCcTPI.js";import"./index-D2NRD51k.js";import"./EllipsisOutlined-BzWcE7tF.js";import"./Sider-clMwekzu.js";import"./index-CHGWkdWj.js";import"./index-Ck2b4VHc.js";const br=({tableName:t,operationFile:d,...y})=>{const{message:m}=u.useApp(),o=s.useRef();s.useEffect(()=>{},[t]);const x=[{label:"从控制器配置生成",value:1},{label:"从控制器中反射",value:2}];return r.jsxs(r.Fragment,{children:[r.jsx(n,{formRef:o,size:"small",params:{table_name:t},request:async i=>(await l.getCodeGeneratorInfo(i)).data||{},submitter:!1,onFinish:async i=>{l.generatorCode({react_api:{...i.react_api,file_suffix:"js"},table_name:t,code_name:"react_api"}).then(e=>{e.code===1?(m.success(e.message),o.current.setFieldValue("react_api_code",e.data.react_api_code)):m.error(e.message)})},children:r.jsxs(h,{direction:"vertical",style:{width:"100%"},children:[r.jsxs(_,{gutter:[24,0],children:[r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(c,{name:["react_api","file_name"],label:"文件名",placeholder:"请输入",rules:[{required:!0,message:"请输入"}]})}),r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(c,{name:["react_api","file_path"],label:"生成目录",placeholder:"请输入",rules:[{required:!0,message:"请输入"}]})}),r.jsx(a,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:r.jsx(j.Group,{name:["react_api","generator_type"],label:"api生成来源",rules:[{required:!0,message:"请输入"}],options:x})})]}),r.jsx(n.Item,{name:"react_api_code",children:r.jsx(f,{})})]})}),r.jsx(g,{offsetBottom:10,children:r.jsx(C,{boxShadow:!0,children:r.jsxs(b,{align:"center",justify:"center",gap:"small",children:[r.jsx(p,{type:"primary",size:"default",onClick:()=>{o.current.submit()},children:"保存设置》生成预览代码"}),r.jsx(p,{danger:!0,onClick:()=>{d("react_api")},children:"生成到项目"})]})})})]})};export{br as default};
