import{A as g,r as m,m as v,j as e}from"./index-BTXTJVKt.js";import{a as y}from"./adminCodeGenerator-XA6WtBhQ.js";import{a as j}from"./adminMenu-Hr-Zrko8.js";import{R as w,C as r}from"./row-DJNm5-9Y.js";import{W as o}from"./index-BMuvgOFD.js";import{W as F}from"./index-2DT4l-EF.js";import{D as T}from"./index-Dwni2OoB.js";import{W as s}from"./index-CNcHXf2n.js";import{P}from"./index-Cpu1JcVa.js";import"./useBreakpoint-C9P5ZgXD.js";import"./index-CsweGtVO.js";import"./index-DWyRM-jO.js";import"./index-CBjIPB84.js";import"./Table-CUXyCVLs.js";import"./ProCard-BTx7yLUQ.js";import"./index-Ck2b4VHc.js";import"./index-DwWsiyHK.js";import"./index-CHGWkdWj.js";import"./EllipsisOutlined-BzWcE7tF.js";import"./Overflow-DodMVMUF.js";import"./PlusOutlined-DhDAnJdR.js";import"./Dropdown-D-FCcTPI.js";import"./index-DWwHrh8G.js";import"./index-D_n6I86r.js";import"./BaseForm-Bt-x2uS5.js";import"./CopyOutlined-Bqo58qRo.js";import"./DeleteOutlined-sMe1csST.js";import"./index-B1B7dhZb.js";import"./gapSize-U1swVQyS.js";import"./index-BaexhYUL.js";import"./DownOutlined-dHMiLU6h.js";import"./index-ZV6Sdybn.js";import"./Table-ButWyQXY.js";import"./styleChecker-xca8e-q0.js";import"./addEventListener-BQxGY-6f.js";import"./iconUtil-0otcsGdb.js";import"./index-D1w3VCkm.js";import"./PurePanel-BJ0dSvru.js";import"./getAllowClear-SV9Asyat.js";import"./move-BiL2XrK1.js";import"./CheckOutlined-CRheHqkM.js";import"./Input-CJszbmX7.js";import"./index-Ci-Y97rG.js";import"./index-Clo_9DB7.js";import"./dropdown-ozNz9IXP.js";import"./LeftOutlined-CNJksXTb.js";import"./index-D2NRD51k.js";import"./Sider-clMwekzu.js";import"./index-B9ywFgu1.js";import"./HolderOutlined-DO80hp-F.js";import"./CaretDownOutlined-BWLnnrSk.js";import"./index-Dnt0D-Vv.js";import"./index-DiR_3Q38.js";import"./index-hKAX5Tgp.js";import"./index-lhHkabfZ.js";import"./index-CcMUfAok.js";import"./index-1Ew_B_KM.js";import"./index-JJDTxIwy.js";import"./progress-C-smal5r.js";import"./index-Wn9_u9d6.js";import"./index-DZ2tAw4A.js";import"./TextArea-Dm9DBQS4.js";import"./index-Dx9hPCiE.js";import"./EditOutlined-Jb-cOsu8.js";import"./core.esm-Ds3LvBvm.js";import"./index-BfhOKpHw.js";import"./index-D5nMW6Hn.js";const Ge=({tableName:p,...S})=>{const{message:u}=g.useApp();m.useEffect(()=>{p&&(_(),b())},[p]);const[x,d]=m.useState([]),_=()=>{y.getTableColumn({table_name:p}).then(t=>{t.code===1?d(t.data):u.error(t.message)})},[c,f]=m.useState([]),b=()=>{j.getList({hidden:"all"}).then(t=>{t.code===1&&f(v(t.data))})},h=[{value:"text",label:"常规文本"},{value:"text_link",label:"可点击链接"},{value:"image",label:"图片"},{value:"name_tel_copy",label:"姓名/手机号(可复制)"},{value:"name_age_sex",label:"姓名/年龄/性别"},{value:"tag",label:"Tag标签"},{value:"avatar",label:"头像"},{value:"user",label:"头像/姓名/手机号"},{value:"money",label:"金额"},{value:"money_line",label:"多行的金额"},{value:"typography_text",label:"Typography文字"},{value:"switch",label:"状态开关可切换"},{value:"status_type",label:"多颜色状态/类型"},{value:"sort",label:"排序"},{value:"progress",label:"进度条"},{value:"descriptions",label:"弹窗用Descriptions描述列表"},{value:"preview_text",label:"弹窗查看文本"},{value:"preview_teditor",label:"预览富文本内容"},{value:"preview_images_videos",label:"预览多图或视频"},{value:"preview_video",label:"预览视频"},{value:"preview_pdf",label:"预览pdf"},{value:"preview_word",label:"预览word"},{value:"create_time",label:"添加时间"}];return e.jsxs(e.Fragment,{children:[e.jsxs(w,{gutter:[24,0],children:[e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_file_path"],label:"生成的目录",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"从public开始写，如：public/admin_react/src/xxxx"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_file_name"],label:"生成的文件名称",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"要带后缀"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(F,{name:["react_other","modal_table_auth_id"],label:"操作权限",placeholder:"请选择",rules:[],fieldProps:{showSearch:!0,treeNodeFilterProp:"title",treeData:c,fieldNames:{lable:"title",value:"name"}}})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_title"],label:"弹窗标题",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"如：修改分类"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_api_name"],label:"接口方法名称",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"如：updateClass"})})]}),e.jsx(T,{className:"generator-create-list-from",ghost:!0,columns:[{title:"排序",dataIndex:"sort",width:50},{title:"字段",width:200,dataIndex:"Field"},{title:"类型",width:120,dataIndex:"Type"},{title:"默认值",dataIndex:"Default",width:70,render:(t,l)=>l.Default?l.Default:l.Default===null?"null":""},{title:"注释",dataIndex:"Comment",ellipsis:!0},{title:"字段名称",dataIndex:"field_title"},{title:"字段展示类型",dataIndex:"list_fields_type",render:(t,l)=>e.jsx(e.Fragment,{children:e.jsx(s,{name:["react_other","list_fields_type",`${l.Field}`],placeholder:"请选择",request:async()=>h,fieldProps:{showSearch:!0}})})},{title:"其它配置",dataIndex:"list_fields_type_config",render:(t,l)=>e.jsx(e.Fragment,{children:e.jsx(P,{name:[["react_other","list_fields_type",`${l.Field}`]],children:({react_other:a})=>{var n;let i=[];return((n=a==null?void 0:a.list_fields_type)==null?void 0:n[l.Field])=="text"&&(i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"ellipsis"],placeholder:"是否自动省略",rules:[],options:[{value:!0,label:"自动省略"},{value:!1,label:"不自动省略"}],fieldProps:{style:{margin:"2px 0px"}}},"ellipsis")),i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"copyable"],placeholder:"是否支持复制",rules:[],options:[{value:!0,label:"支持复制"},{value:!1,label:"不支持复制"}],fieldProps:{style:{margin:"2px 0px"}}},"copyable"))),i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"sorter"],placeholder:"是否支持排序",rules:[],options:[{value:!0,label:"支持排序"},{value:!1,label:"不支持排序"}],fieldProps:{style:{margin:"2px 0px"}}},"sorter")),i}})})}],rowKey:"Field",search:!1,pagination:!1,options:!1,defaultSize:"small",bordered:!0,dragSortKey:"sort",onDragSortEnd:(t,l,a)=>{d(a)},dataSource:x})]})};export{Ge as default};
