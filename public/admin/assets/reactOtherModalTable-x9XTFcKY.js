import{A as g,r as m,m as v,j as e}from"./index-CxoETvRH.js";import{a as y}from"./adminCodeGenerator-o3VPck0b.js";import{a as j}from"./adminMenu-CI_NMbuZ.js";import{R as w,C as r}from"./row-qzGwq4Dr.js";import{W as o}from"./index-B5gW4Hci.js";import{W as F}from"./index-SKxkjW-p.js";import{D as T}from"./index-DUMZawVF.js";import{W as s}from"./index-w3B4RVYE.js";import{P}from"./index-DsYJmDxZ.js";import"./useBreakpoint-9N_aLd03.js";import"./index-C_bV-DnG.js";import"./index-C-0gitmI.js";import"./index-Bcl-gWmM.js";import"./Table-MBA0ODj2.js";import"./ProCard-D6QkQ_g5.js";import"./index-JNVvr94D.js";import"./index-DPelJOqh.js";import"./index-CVyj0YhM.js";import"./EllipsisOutlined-DYRNvKIw.js";import"./Overflow-C1Gv4RUW.js";import"./PlusOutlined-vk23tUE5.js";import"./Dropdown-B_0_MLsu.js";import"./index-CVCROCWL.js";import"./index-BV5Zm_mO.js";import"./BaseForm-Ce_dWbWI.js";import"./CopyOutlined-DoMFKUVx.js";import"./DeleteOutlined-CBiNWy3g.js";import"./index-BphrQzO9.js";import"./gapSize-U1swVQyS.js";import"./index-CvzSf1Bg.js";import"./DownOutlined-CKTuMrT9.js";import"./index-EKub9ikS.js";import"./Table-dye4hUJ0.js";import"./styleChecker-BWYb9pEX.js";import"./addEventListener-DSaIWks1.js";import"./iconUtil-CrL5XMUw.js";import"./index-BbWS0DN_.js";import"./PurePanel-Qn0-6z3A.js";import"./getAllowClear-61dfOySQ.js";import"./move-BEwii-fV.js";import"./CheckOutlined-DNlRZmOM.js";import"./Input-DBs5aIW3.js";import"./index-BCcQRwwP.js";import"./index-D0fE36s2.js";import"./dropdown-0heBmOdg.js";import"./LeftOutlined-CXR1ue2q.js";import"./index-27J4tOGW.js";import"./Sider-DIX9tLFZ.js";import"./index-DRn2fARs.js";import"./HolderOutlined-c3sLJRZN.js";import"./CaretDownOutlined-Cm7GLJFD.js";import"./index-0Umo49A8.js";import"./index-CHnZ-yQ1.js";import"./index-lKg4xbVK.js";import"./index-lhHkabfZ.js";import"./index-Dx6Z95tT.js";import"./index-B6rUILzb.js";import"./index-BOtvnYjU.js";import"./progress-Ofxp_QxA.js";import"./index-BiKlR4w8.js";import"./index-4oTavk15.js";import"./TextArea-B06lod9y.js";import"./index-DdonXCdW.js";import"./EditOutlined-DSBmrQxq.js";import"./core.esm-CS6-g6X4.js";import"./index-r-JVz4Yx.js";import"./index-BZDhPRiF.js";const Ge=({tableName:p,...S})=>{const{message:u}=g.useApp();m.useEffect(()=>{p&&(_(),b())},[p]);const[x,d]=m.useState([]),_=()=>{y.getTableColumn({table_name:p}).then(t=>{t.code===1?d(t.data):u.error(t.message)})},[c,f]=m.useState([]),b=()=>{j.getList({hidden:"all"}).then(t=>{t.code===1&&f(v(t.data))})},h=[{value:"text",label:"常规文本"},{value:"text_link",label:"可点击链接"},{value:"image",label:"图片"},{value:"name_tel_copy",label:"姓名/手机号(可复制)"},{value:"name_age_sex",label:"姓名/年龄/性别"},{value:"tag",label:"Tag标签"},{value:"avatar",label:"头像"},{value:"user",label:"头像/姓名/手机号"},{value:"money",label:"金额"},{value:"money_line",label:"多行的金额"},{value:"typography_text",label:"Typography文字"},{value:"switch",label:"状态开关可切换"},{value:"status_type",label:"多颜色状态/类型"},{value:"sort",label:"排序"},{value:"progress",label:"进度条"},{value:"descriptions",label:"弹窗用Descriptions描述列表"},{value:"preview_text",label:"弹窗查看文本"},{value:"preview_teditor",label:"预览富文本内容"},{value:"preview_images_videos",label:"预览多图或视频"},{value:"preview_video",label:"预览视频"},{value:"preview_pdf",label:"预览pdf"},{value:"preview_word",label:"预览word"},{value:"create_time",label:"添加时间"}];return e.jsxs(e.Fragment,{children:[e.jsxs(w,{gutter:[24,0],children:[e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_file_path"],label:"生成的目录",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"从public开始写，如：public/admin_react/src/xxxx"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_file_name"],label:"生成的文件名称",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"要带后缀"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(F,{name:["react_other","modal_table_auth_id"],label:"操作权限",placeholder:"请选择",rules:[],fieldProps:{showSearch:!0,treeNodeFilterProp:"title",treeData:c,fieldNames:{lable:"title",value:"name"}}})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_title"],label:"弹窗标题",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"如：修改分类"})}),e.jsx(r,{xs:24,sm:12,md:12,lg:8,xl:6,xxl:6,children:e.jsx(o,{name:["react_other","modal_table_api_name"],label:"接口方法名称",placeholder:"请输入",rules:[{required:!0,message:"请输入"}],extra:"如：updateClass"})})]}),e.jsx(T,{className:"generator-create-list-from",ghost:!0,columns:[{title:"排序",dataIndex:"sort",width:50},{title:"字段",width:200,dataIndex:"Field"},{title:"类型",width:120,dataIndex:"Type"},{title:"默认值",dataIndex:"Default",width:70,render:(t,l)=>l.Default?l.Default:l.Default===null?"null":""},{title:"注释",dataIndex:"Comment",ellipsis:!0},{title:"字段名称",dataIndex:"field_title"},{title:"字段展示类型",dataIndex:"list_fields_type",render:(t,l)=>e.jsx(e.Fragment,{children:e.jsx(s,{name:["react_other","list_fields_type",`${l.Field}`],placeholder:"请选择",request:async()=>h,fieldProps:{showSearch:!0}})})},{title:"其它配置",dataIndex:"list_fields_type_config",render:(t,l)=>e.jsx(e.Fragment,{children:e.jsx(P,{name:[["react_other","list_fields_type",`${l.Field}`]],children:({react_other:a})=>{var n;let i=[];return((n=a==null?void 0:a.list_fields_type)==null?void 0:n[l.Field])=="text"&&(i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"ellipsis"],placeholder:"是否自动省略",rules:[],options:[{value:!0,label:"自动省略"},{value:!1,label:"不自动省略"}],fieldProps:{style:{margin:"2px 0px"}}},"ellipsis")),i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"copyable"],placeholder:"是否支持复制",rules:[],options:[{value:!0,label:"支持复制"},{value:!1,label:"不支持复制"}],fieldProps:{style:{margin:"2px 0px"}}},"copyable"))),i.push(e.jsx(s,{name:["react_other","list_fields_type_config",`${l.Field}`,"sorter"],placeholder:"是否支持排序",rules:[],options:[{value:!0,label:"支持排序"},{value:!1,label:"不支持排序"}],fieldProps:{style:{margin:"2px 0px"}}},"sorter")),i}})})}],rowKey:"Field",search:!1,pagination:!1,options:!1,defaultSize:"small",bordered:!0,dragSortKey:"sort",onDragSortEnd:(t,l,a)=>{d(a)},dataSource:x})]})};export{Ge as default};
